/*! For license information please see main.min.js.LICENSE.txt */
(()=>{"use strict";var e,t={8572:(e,t,n)=>{n(853),n(6208),n(4883),n(5007),n(8995),n(6650),n(9275),n(3528),n(4994),n(7838),n(5054),n(5281),n(3214),n(8821),n(2321),n(6364),n(6632),n(1928),n(4845),n(2729),n(3694),n(4063),n(2031),n(6908);var o=n(6075),r=n(5435),i=n(8345),a=n(8012),c=n(3934),s=n(981),l=n(4418),u=n(6070),p=n(9352);n(3130),n(3382),n(5005),n(3290),n(4130),n(644);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function y(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function m(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){var t="function"==typeof Map?new Map:void 0;return v=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return g(e,arguments,k(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),x(o,e)},v(e)}function g(e,t,n){return g=w()?Reflect.construct.bind():function(e,t,n){var o=[null];o.push.apply(o,t);var r=new(Function.bind.apply(e,o));return n&&x(r,n.prototype),r},g.apply(null,arguments)}function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function x(e,t){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},x(e,t)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(s,e);var t,n,r,i,a,c=(t=s,n=w(),function(){var e,o=k(t);if(n){var r=k(this).constructor;e=Reflect.construct(o,arguments,r)}else e=o.apply(this,arguments);return m(this,e)});function s(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(n=c.call(this)).camera=e,n.options=Object.assign({size:90,padding:8,bubbleSizePrimary:8,bubbleSizeSeconday:6,showSecondary:!0,lineWidth:2,fontSize:"11px",fontFamily:"arial",fontWeight:"bold",fontColor:"#151515",fontYAdjust:0,colors:{x:["#f73c3c","#942424"],y:["#6ccb26","#417a17"],z:["#178cf0","#0e5490"]}},t),n.onAxisSelected=null,n.bubbles=[{axis:"X",direction:new o.Pa4(1,0,0),size:n.options.bubbleSizePrimary,color:n.options.colors.x,line:n.options.lineWidth,label:"X"},{axis:"Y",direction:new o.Pa4(0,1,0),size:n.options.bubbleSizePrimary,color:n.options.colors.y,line:n.options.lineWidth,label:"Y"},{axis:"Z",direction:new o.Pa4(0,0,1),size:n.options.bubbleSizePrimary,color:n.options.colors.z,line:n.options.lineWidth,label:"Z"},{axis:"-X",direction:new o.Pa4(-1,0,0),size:n.options.bubbleSizeSeconday,color:n.options.colors.x},{axis:"-Y",direction:new o.Pa4(0,-1,0),size:n.options.bubbleSizeSeconday,color:n.options.colors.y},{axis:"-Z",direction:new o.Pa4(0,0,-1),size:n.options.bubbleSizeSeconday,color:n.options.colors.z}],n.center=new o.Pa4(n.options.size/2,n.options.size/2,0),n.selectedAxis=null,n.innerHTML="<canvas width='"+n.options.size+"' height='"+n.options.size+"'></canvas>",n.id="gizmo",n.onMouseMove=n.onMouseMove.bind(b(n)),n.onMouseOut=n.onMouseOut.bind(b(n)),n.onMouseClick=n.onMouseClick.bind(b(n)),n}return r=s,i=[{key:"connectedCallback",value:function(){this.canvas=this.querySelector("canvas"),this.context=this.canvas.getContext("2d"),this.canvas.addEventListener("mousemove",this.onMouseMove,!1),this.canvas.addEventListener("mouseout",this.onMouseOut,!1),this.canvas.addEventListener("click",this.onMouseClick,!1)}},{key:"disconnectedCallback",value:function(){this.canvas.removeEventListener("mousemove",this.onMouseMove,!1),this.canvas.removeEventListener("mouseout",this.onMouseOut,!1),this.canvas.removeEventListener("click",this.onMouseClick,!1)}},{key:"onMouseMove",value:function(e){var t=this.canvas.getBoundingClientRect();this.mouse=new o.Pa4(e.clientX-t.left,e.clientY-t.top,0)}},{key:"onMouseOut",value:function(e){this.mouse=null}},{key:"onMouseClick",value:function(e){this.onAxisSelected&&"function"==typeof this.onAxisSelected&&this.onAxisSelected(this.selectedAxis.axis)}},{key:"clear",value:function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}},{key:"drawCircle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#FF0000";this.context.beginPath(),this.context.arc(e.x,e.y,t,0,2*Math.PI,!1),this.context.fillStyle=n,this.context.fill(),this.context.closePath()}},{key:"drawLine",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#FF0000";this.context.beginPath(),this.context.moveTo(e.x,e.y),this.context.lineTo(t.x,t.y),this.context.lineWidth=n,this.context.strokeStyle=o,this.context.stroke(),this.context.closePath()}},{key:"update",value:function(){this.clear();var e,t=(new o.yGw).makeRotationFromEuler(this.camera.rotation).clone().invert(),n=f(this.bubbles);try{for(n.s();!(e=n.n()).done;)(l=e.value).position=this.getBubblePosition(l.direction.clone().applyMatrix4(t))}catch(e){n.e(e)}finally{n.f()}var r=[];for(var i in this.bubbles)!0!==this.options.showSecondary&&"-"===i[0]||r.push(this.bubbles[i]);if(r.sort((function(e,t){return e.position.z>t.position.z?1:-1})),this.selectedAxis=null,this.mouse){var a,c=1/0,s=f(r);try{for(s.s();!(a=s.n()).done;){var l=a.value,u=this.mouse.distanceTo(l.position);(u<c||u<l.size)&&(c=u,this.selectedAxis=l)}}catch(e){s.e(e)}finally{s.f()}}this.drawLayers(r)}},{key:"drawLayers",value:function(e){var t,n=f(e);try{for(n.s();!(t=n.n()).done;){var o=t.value,r=o.color;r=this.selectedAxis===o?"#FFFFFF":o.position.z>=-.01?o.color[0]:o.color[1],this.drawCircle(o.position,o.size,r),o.line&&this.drawLine(this.center,o.position,o.line,r),o.label&&(this.context.font=[this.options.fontWeight,this.options.fontSize,this.options.fontFamily].join(" "),this.context.fillStyle=this.options.fontColor,this.context.textBaseline="middle",this.context.textAlign="center",this.context.fillText(o.label,o.position.x,o.position.y+this.options.fontYAdjust))}}catch(e){n.e(e)}finally{n.f()}}},{key:"getBubblePosition",value:function(e){return new o.Pa4(e.x*(this.center.x-this.options.bubbleSizePrimary/2-this.options.padding)+this.center.x,this.center.y-e.y*(this.center.y-this.options.bubbleSizePrimary/2-this.options.padding),e.z)}}],i&&y(r.prototype,i),a&&y(r,a),Object.defineProperty(r,"prototype",{writable:!1}),s}(v(HTMLElement));function B(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function S(e,t,n){return t&&B(e.prototype,t),n&&B(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}window.customElements.define("orientation-gizmo",O);var j=S((function e(t){var n,o,r,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mouseMoved,t.addEventListener("mousedown",(function(e){n=e.clientX,o=e.clientY,r=Date.now()})),t.addEventListener("mouseup",(function(e){var t=Math.abs(e.clientX-n),a=Math.abs(e.clientY-o),c=r-Date.now();i.mouseMoved=t>5||a>5||c>500}))}));n(5862),n(2798),n(9457),n(6900),n(7751),n(238);function E(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var P=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.camera=n,this.meshes=r,this.mouse=new o.FM8,this.raycaster=new o.iMs,this.intersects}var t,n,r;return t=e,(n=[{key:"findIntersect",value:function(){this.raycaster.setFromCamera(this.mouse,this.camera),this.raycaster.firstHitOnly=!0,this.raycaster.layers.set(1),this.intersects=this.raycaster.intersectObjects(this.meshes,!1)}}])&&E(t.prototype,n),r&&E(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function z(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function C(e,t,n){return t&&z(e.prototype,t),n&&z(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var I=C((function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.circleTexture=(new o.dpR).load("./textures/circle.png");var i=new o.xeV({map:this.circleTexture,transparent:!0,depthTest:!1,depthWrite:!1,sizeAttenuation:!1}),a=new o.jyi(i);return a.position.set(t,n,r),a.scale.set(.02,.02,.02),a}));function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,r,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw r}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function A(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function D(){return D="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var o=R(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},D.apply(this,arguments)}function R(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Y(e)););return e}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Y(e);if(t){var r=Y(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return F(this,n)}}function F(e,t){if(t&&("object"===L(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Y(e){return Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Y(e)}var V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(a,e);var t,n,r,i=H(a);function a(e,t,n,o,r){var c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(c=i.call(this,e,t,n)).propContentsID=o,c.jsonData=r,c.pickColorOn=!0,c.boxHelperOn=!0,c.labelOn=!0,c.propContentsOn=!0,c.propContents=document.getElementById(c.propContentsID),c.propContents.innerHTML="객체를 클릭하면 속성이 표기됨",c.scrollIntoViewElement=null,c.label=document.createElement("div"),c.label.id="label",c.label.style.position="absolute",c.label.style.display="inline-block",c.label.style.top="0rem",c.label.style.minWidth="35rem",c.label.style.padding="1rem",c.label.style.overflowY="auto",c.label.style.fontSize="1.4rem",c.label.style.color="white",c.label.style.background="rgba(0, 0, 0, 0.8)",c.labelCSS2D,c}return t=a,(n=[{key:"pick",value:function(){var e=this;if(this.scrollIntoViewElement&&(this.scrollIntoViewElement.style.background="",this.scrollIntoViewElement=null),this.scene.remove(this.pickCloneObj),this.scene.remove(this.pickBoxHelper),this.scene.remove(this.marker),this.scene.remove(this.labelCSS2D),this.propContents.innerHTML="객체를 클릭하면 속성이 표기됨",D(Y(a.prototype),"findIntersect",this).call(this),this.intersects.length){if(this.pickObject=this.intersects[0].object,this.scrollIntoViewElement=document.getElementById("".concat(this.pickObject.uuid)),this.scrollIntoViewElement.scrollIntoView({behavior:"smooth"}),this.scrollIntoViewElement.style.background="#BDBDBD",this.pickColorOn){var t=new o.EJi({color:"#ff8747",roughness:.4,metalness:1,emissive:"red",side:2});this.pickCloneObj=this.pickObject.clone(),this.pickCloneObj.material=t,this.pickCloneObj.name="cloneObj",this.scene.add(this.pickCloneObj)}if(this.boxHelperOn&&(this.pickBoxHelper=new o.fQA(this.pickObject,"forestgreen"),this.scene.add(this.pickBoxHelper)),this.labelOn){this.marker=new I(this.intersects[0].point.x,this.intersects[0].point.y,this.intersects[0].point.z),this.scene.add(this.marker),this.label.innerHTML="\n            Name : ".concat(this.pickObject.name," <br>\n            "),document.body.appendChild(this.label);var n=document.createElement("div");n.appendChild(this.label),this.labelCSS2D=new p.j(n),this.labelCSS2D.position.copy(this.intersects[0].point),this.scene.add(this.labelCSS2D)}var r;this.propContentsOn&&(this.propContents.innerHTML="",this.propContents.innerHTML+="\n            Id : ".concat(this.pickObject.id," <br>\n            Uuid : ").concat(this.pickObject.uuid," <br>\n            Point x : ").concat(this.intersects[0].point.x.toFixed(3)," <br>\n            Point y : ").concat(this.intersects[0].point.y.toFixed(3)," <br>\n            Point z : ").concat(this.intersects[0].point.z.toFixed(3)," <br>\n            Geometry Type : ").concat(this.pickObject.geometry.type," <br>\n            Material Name : ").concat(this.pickObject.material.name," <br>\n            Material Opacity : ").concat(this.pickObject.material.opacity," <br>\n            Texture MIME Type : ").concat((null===(r=this.pickObject.material.map)||void 0===r?void 0:r.userData.mimeType)||"없음"," <br><br>\n            ")),this.jsonData[0]&&(this.jsonValues=Object.values(this.jsonData[0]),this.jsonValues.forEach((function(t,n){if(t.name===e.pickObject.name)for(var o=0,r=Object.entries(t);o<r.length;o++){var i=M(r[o],2),a=i[0],c=i[1];e.propContents.innerHTML+="".concat(a,": ").concat(c," <br>")}})))}}}])&&A(t.prototype,n),r&&A(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(P);function N(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var X=function(){function e(t,n,o,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.meshes=n,this.camera=o,this.controls=r,this.meshListID=i,this.listElement=document.getElementById(this.meshListID),this.listElement.innerHTML="",this.fragment=document.createDocumentFragment();for(var a=0;a<this.meshes.length;a++)this.addList(this.meshes[a].name,this.meshes[a].uuid);this.listElement.append(this.fragment)}var t,n,o;return t=e,(n=[{key:"addList",value:function(e,t){var n=this,o=this.scene.getObjectByProperty("uuid",t);this.item=document.createElement("div"),this.item.className="item",this.item.id=t,this.fragment.appendChild(this.item);var r=document.createElement("div");r.className="item_name",r.name=e,r.textContent=e,this.item.append(r);var i=document.createElement("div");i.className="item_btnContainer";var a=document.createElement("input");a.type="checkbox",a.checked="true",a.id="label"+t,a.setAttribute("uuid",t),a.addEventListener("click",(function(e){n.onVisible(e)})),i.appendChild(a);var c=document.createElement("label");c.htmlFor="label"+t,c.name=e,c.style.width="2.5rem",i.appendChild(c),this.item.append(i);var s=document.createElement("input");s.className="item_colour",s.placeholder="color",s.type="color",s.value="#"+o.material.color.getHexString(),s.setAttribute("uuid",t),s.addEventListener("input",(function(e){return n.changeColor(e)})),i.append(s);var l=document.createElement("input");l.name=e,l.type="text",l.value=100,l.setAttribute("uuid",t),l.addEventListener("change",(function(e){return n.opcaityChange(e)})),i.appendChild(l)}},{key:"changeColor",value:function(e){var t=e.target.getAttribute("uuid");this.scene.getObjectByProperty("uuid",t).material.color.set(e.target.value)}},{key:"onVisible",value:function(e){var t=e.target.getAttribute("uuid"),n=this.scene.getObjectByProperty("uuid",t);switch(e.target.checked){case!0:n.visible=!0,n.layers.enable(1);break;case!1:n.visible=!1,n.layers.disable(1),this.scene.remove(this.scene.getObjectByName("cloneObj"))}}},{key:"opcaityChange",value:function(e){var t=e.target.getAttribute("uuid"),n=this.scene.getObjectByProperty("uuid",t),o=+e.target.value;o=o>100?100:o<1?1:o,e.target.value=o,n.material.transparent=!0,n.material.opacity=e.target.value/100,100==e.target.value&&(n.material.transparent=!1)}}])&&N(t.prototype,n),o&&N(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function W(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Z(e,t,n){return t&&W(e.prototype,t),n&&W(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var G=Z((function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.model=t,this.viewMode=n,this.camera=r,this.controls=i,this.box=(new o.ZzF).setFromObject(this.model),this.sizeBox=this.box.getSize(new o.Pa4).length(),this.centerBox=this.box.getCenter(new o.Pa4);var a=0,c=0,s=0;switch(this.viewMode){case"X":a=1;break;case"Y":c=1;break;case"Z":s=1;break;case"-X":a=1,a*=-1;break;case"-Y":c=1,c*=-1;break;case"-Z":s=1,s*=-1}this.camera.position.set(this.centerBox.x+a,this.centerBox.y+c,this.centerBox.z+s);var l=.5*this.sizeBox,u=Math.PI/180*(.5*this.camera.fov),p=l/Math.tan(u);(new o.Pa4).subVectors(this.camera.position,this.centerBox).normalize().multiplyScalar(p).add(this.centerBox);this.camera.near=Math.min(this.sizeBox/100,.1),this.camera.far=100*this.sizeBox,this.camera.updateProjectionMatrix(),this.camera.lookAt(this.centerBox.x,this.centerBox.y,this.centerBox.z),this.controls.target.set(this.centerBox.x,this.centerBox.y,this.centerBox.z),this.controls.minDistanceSettingValue=p/20}));function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function J(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function K(){return K="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var o=Q(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},K.apply(this,arguments)}function Q(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=te(e)););return e}function q(e,t){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},q(e,t)}function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=te(e);if(t){var r=te(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return ee(this,n)}}function ee(e,t){if(t&&("object"===U(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function te(e){return te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},te(e)}var ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q(e,t)}(a,e);var t,n,r,i=$(a);function a(e,t,n,o,r){var c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(c=i.call(this,e,t,n)).renderer=o,c.infoState=r,c.pickColorOn=!0,c.labelOn=!0,c.pickObjectSaveMaterial=0,c.pickObject=null,c}return t=a,(n=[{key:"pick",value:function(){this.infoState.flag="volume",this.renderer.domElement.style.cursor="crosshair"}},{key:"calVol",value:function(){var e=this;if(K(te(a.prototype),"findIntersect",this).call(this),this.intersects.length){if(this.pickObject=this.intersects[0].object,this.pickColorOn){this.pickObjectSaveMaterial=this.pickObject.material;var t=new o.EJi({color:"skyblue",roughness:.5,metalness:1,side:2});this.pickObject.material=t}if(this.labelOn){this.marker=new I(this.intersects[0].point.x,this.intersects[0].point.y,this.intersects[0].point.z),this.scene.add(this.marker),this.label=document.createElement("div"),this.label.id="volLabel",this.label.innerHTML=oe(this.pickObject.geometry).toFixed(3)+" ㎥",this.label.style.top="0rem",this.label.style.position="absolute",this.label.style.display="inline-block",this.label.style.top="0rem",this.label.style.minWidth="18rem",this.label.style.padding="0.5rem",this.label.style.overflowY="auto",this.label.style.fontSize="1.4rem",this.label.style.fontFamily="sans-serif",this.label.style.color="white",this.label.style.background="skyblue";var n=document.createElement("div");n.appendChild(this.label),this.labelCSS2D=new p.j(n),this.labelCSS2D.position.copy(this.intersects[0].point),this.scene.add(this.labelCSS2D)}setTimeout((function(){alert("체적 = ".concat(oe(e.pickObject.geometry).toFixed(3)," ㎥")),e.pickObject&&e.pickColorOn&&(e.pickObject.material=e.pickObjectSaveMaterial,e.pickObject=null),e.scene.remove(e.labelCSS2D),e.scene.remove(e.marker),e.infoState.flag="pick"}),200),this.renderer.domElement.style.cursor="default"}}}])&&J(t.prototype,n),r&&J(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(P);function oe(e){if(!e.isBufferGeometry)return 0;var t=null!==e.index,n=e.attributes.position,r=0,i=new o.Pa4,a=new o.Pa4,c=new o.Pa4;if(t)for(var s=e.index,l=s.count/3,u=0;u<l;u++)i.fromBufferAttribute(n,s.array[3*u+0]),a.fromBufferAttribute(n,s.array[3*u+1]),c.fromBufferAttribute(n,s.array[3*u+2]),r+=re(i,a,c);else for(var p=n.count/3,d=0;d<p;d++)i.fromBufferAttribute(n,3*d+0),a.fromBufferAttribute(n,3*d+1),c.fromBufferAttribute(n,3*d+2),r+=re(i,a,c);return r}function re(e,t,n){return e.dot(t.cross(n))/6}n(5252);function ie(e){return ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ie(e)}function ae(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ce(){return ce="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var o=se(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},ce.apply(this,arguments)}function se(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=de(e)););return e}function le(e,t){return le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},le(e,t)}function ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=de(e);if(t){var r=de(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return pe(this,n)}}function pe(e,t){if(t&&("object"===ie(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function de(e){return de=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},de(e)}var fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&le(e,t)}(a,e);var t,n,r,i=ue(a);function a(e,t,n,o,r){var c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(c=i.call(this,e,t,n)).renderer=o,c.infoState=r,c.pickColorOn=!0,c.labelOn=!0,c.pickObjectSaveMaterial=null,c.pickObject=null,c}return t=a,(n=[{key:"pick",value:function(){this.renderer.domElement.style.cursor="crosshair",this.infoState.flag="area"}},{key:"calArea",value:function(){var e=this;if(ce(de(a.prototype),"findIntersect",this).call(this),this.intersects.length){if(this.pickObject=this.intersects[0].object,this.pickColorOn){this.pickObjectSaveMaterial=this.pickObject.material;var t=new o.EJi({color:"orange",roughness:.5,metalness:1,side:2});this.pickObject.material=t}if(this.labelOn){this.marker=new I(this.intersects[0].point.x,this.intersects[0].point.y,this.intersects[0].point.z),this.scene.add(this.marker),this.label=document.createElement("div"),this.label.id="areaLabel",this.label.innerHTML=he(this.pickObject.geometry).toFixed(3)+" ㎡",this.label.style.position="absolute",this.label.style.display="inline-block",this.label.style.top="0rem",this.label.style.minWidth="18rem",this.label.style.padding="0.5rem",this.label.style.overflowY="auto",this.label.style.fontSize="1.4rem",this.label.style.fontFamily="sans-serif",this.label.style.color="white",this.label.style.background="orange";var n=document.createElement("div");n.appendChild(this.label),this.labelCSS2D=new p.j(n),this.labelCSS2D.position.copy(this.intersects[0].point),this.scene.add(this.labelCSS2D)}setTimeout((function(){alert("면적 = ".concat(he(e.pickObject.geometry).toFixed(3)," ㎡")),e.pickObject&&e.pickColorOn&&(e.pickObject.material=e.pickObjectSaveMaterial,e.pickObject=null),e.scene.remove(e.labelCSS2D),e.scene.remove(e.marker),e.infoState.flag="pick"}),200),this.renderer.domElement.style.cursor="default"}}}])&&ae(t.prototype,n),r&&ae(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(P);function he(e){var t=e;function n(e,t,n){var r=new o.Pa4,i=new o.Pa4;r=e.clone().sub(t),i=e.clone().sub(n);var a=new o.Pa4;return a.crossVectors(r,i),a.length()/2}for(var r=0,i=new o.Pa4,a=new o.Pa4,c=new o.Pa4,s=0;s<t.index.count/3;s++){var l=t.attributes.position,u=t.index.array;i.fromBufferAttribute(l,u[3*s+0]),a.fromBufferAttribute(l,u[3*s+1]),c.fromBufferAttribute(l,u[3*s+2]),r+=n(i,a,c)}return r}function ye(e){return ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ye(e)}function me(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function be(){return be="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var o=ve(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},be.apply(this,arguments)}function ve(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ke(e)););return e}function ge(e,t){return ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ge(e,t)}function we(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=ke(e);if(t){var r=ke(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return xe(this,n)}}function xe(e,t){if(t&&("object"===ye(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ke(e){return ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ke(e)}var Oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ge(e,t)}(a,e);var t,n,r,i=we(a);function a(e,t,n,o,r){var c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(c=i.call(this,e,t,n)).renderer=o,c.infoState=r,c.lineDrawing=!1,c.dimLine,c.dimTextLabel,c.delBtnLabel,c.counter=0,c.infoBackspaceDiv,c}return t=a,(n=[{key:"dist",value:function(){this.renderer.domElement.style.cursor="crosshair",this.infoState.flag="dim"}},{key:"start",value:function(){if(be(ke(a.prototype),"findIntersect",this).call(this),this.intersects.length)if(this.lineDrawing){var e=this.dimLine.geometry.attributes.position.array;e[3]=this.intersects[0].point.x,e[4]=this.intersects[0].point.y,e[5]=this.intersects[0].point.z,this.dimLine.geometry.attributes.position.needsUpdate=!0;var t=new I(this.intersects[0].point.x,this.intersects[0].point.y,this.intersects[0].point.z);t.name="endMarker"+this.counter,this.scene.add(t),this.lineDrawing=!1,this.infoState.flag="pick",this.renderer.domElement.style.cursor="default",1==this.counter&&(this.infoBackspaceDiv=document.createElement("div"),this.infoBackspaceDiv.innerHTML='<span style="color:blue; font-weight:bold">Backspace</span> : 거리측정 삭제',document.body.appendChild(this.infoBackspaceDiv),this.infoBackspaceDiv.style.position="absolute",this.infoBackspaceDiv.style.top="9rem",this.infoBackspaceDiv.style.left="50%",this.infoBackspaceDiv.style.transform="translate( -50% )",this.infoBackspaceDiv.style.textAlign="center",this.infoBackspaceDiv.style.background="rgba( 0, 0, 0, 0 )",this.infoBackspaceDiv.style.color="black",this.infoBackspaceDiv.style.fontSize="1.4rem",this.infoBackspaceDiv.style.zIndex="1000")}else{this.counter=this.counter>=0?this.counter:0,this.counter++;var n=[];n.push(this.intersects[0].point),n.push(this.intersects[0].point.clone());var r=new I(this.intersects[0].point.x,this.intersects[0].point.y,this.intersects[0].point.z);r.name="startMarker"+this.counter,this.scene.add(r);var i=(new o.u9r).setFromPoints(n),c=new o.nls({color:"black",depthTest:!1,depthWrite:!1});this.dimLine=new o.ejS(i,c),this.dimLine.frustumCulled=!1,this.dimLine.name="dimLine"+this.counter,this.scene.add(this.dimLine);var s=document.createElement("div");s.innerText="0.0m",s.style.fontSize="1.4rem",s.style.fontFamily="sans-serif",s.style.background="black",s.style.color="white",this.dimTextLabel=new p.j(s),this.dimTextLabel.name="dimTextLabel"+this.counter,this.dimTextLabel.position.copy(this.intersects[0].point),this.scene.add(this.dimTextLabel),this.lineDrawing=!0}}},{key:"drawing",value:function(){if(this.lineDrawing&&(be(ke(a.prototype),"findIntersect",this).call(this),this.intersects.length)){var e=this.dimLine.geometry.attributes.position.array,t=new o.Pa4(e[0],e[1],e[2]),n=new o.Pa4(this.intersects[0].point.x,this.intersects[0].point.y,this.intersects[0].point.z);e[3]=this.intersects[0].point.x,e[4]=this.intersects[0].point.y,e[5]=this.intersects[0].point.z,this.dimLine.geometry.attributes.position.needsUpdate=!0;var r=t.distanceTo(n);this.dimTextLabel.element.innerText=r.toFixed(2)+"m",this.dimTextLabel.position.lerpVectors(t,n,.5)}}},{key:"del",value:function(){var e=this.scene.getObjectByName("dimLine".concat(this.counter)),t=this.scene.getObjectByName("dimTextLabel".concat(this.counter)),n=this.scene.getObjectByName("startMarker".concat(this.counter)),o=this.scene.getObjectByName("endMarker".concat(this.counter));this.scene.remove(e),this.scene.remove(t),this.scene.remove(n),this.scene.remove(o),this.counter=this.counter-1,0==this.counter&&document.body.removeChild(this.infoBackspaceDiv)}}])&&me(t.prototype,n),r&&me(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(P);function Be(e){return Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Be(e)}function Se(){Se=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},r=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,o){var r=t&&t.prototype instanceof p?t:p,i=Object.create(r.prototype),a=new O(o||[]);return i._invoke=function(e,t,n){var o="suspendedStart";return function(r,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===r)throw i;return S()}for(n.method=r,n.arg=i;;){var a=n.delegate;if(a){var c=w(a,n);if(c){if(c===u)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var s=l(e,t,n);if("normal"===s.type){if(o=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o="completed",n.method="throw",n.arg=s.arg)}}}(e,n,a),i}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var u={};function p(){}function d(){}function f(){}var h={};c(h,r,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(B([])));m&&m!==t&&n.call(m,r)&&(h=m);var b=f.prototype=p.prototype=Object.create(h);function v(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){function o(r,i,a,c){var s=l(e[r],e,i);if("throw"!==s.type){var u=s.arg,p=u.value;return p&&"object"==Be(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(p).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,c)}))}c(s.arg)}var r;this._invoke=function(e,n){function i(){return new t((function(t,r){o(e,n,t,r)}))}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var o=l(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,u;var r=o.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function B(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=f,c(b,"constructor",f),c(f,"constructor",d),d.displayName=c(f,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,a,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},v(g.prototype),c(g.prototype,i,(function(){return this})),e.AsyncIterator=g,e.async=function(t,n,o,r,i){void 0===i&&(i=Promise);var a=new g(s(t,n,o,r),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},v(b),c(b,a,"Generator"),c(b,r,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=B,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return a.type="throw",a.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var r=o.arg;k(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:B(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function je(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ce(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Ee(e,t,n,o,r,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(o,r)}function Pe(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var i=e.apply(t,n);function a(e){Ee(i,o,r,a,c,"next",e)}function c(e){Ee(i,o,r,a,c,"throw",e)}a(void 0)}))}}function ze(e){return function(e){if(Array.isArray(e))return Ie(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ce(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(e,t){if(e){if("string"==typeof e)return Ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ie(e,t):void 0}}function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}o.u9r.prototype.computeBoundsTree=i.Xy,o.u9r.prototype.disposeBoundsTree=i.sn,o.Kj0.prototype.raycast=i.uL,function(){var e,t,n,i,d,f,h,y,m,b,v,g,w,x,k,B,S,E,P,z,C,I=[],L=[],M=[],T=[],A=[],D=!1,R={menu:!0,path:"./models/",url:[],json:null,canvasID:"three-canvas",exposure:1.5,ambientLight:!0,ambientIntensity:.3,lightCamera:!0,lightCameraIntensity:1,lightScene:!0,lightSceneIntensity:1,autoRotate:!1,autoRotateSpeed:-3,mapControl:!0,navigationGizmo:!0,environment:!1,materialSide:2,castShadow:!0,receiveShadow:!1,shadowMap:!0,viewMode:"Y",gridVisible:!1,axesVisible:!1,meshListID:"listOnOff",pickColorOn:!0,boxHelperOn:!0,labelOn:!0,propContentsOn:!0,propContentsID:"propContents",raycastAcc:!1};R.url.forEach((function(e){return I.push(e)})),ze(new URLSearchParams(window.location.search)).forEach((function(e,t){"true"==e[1]&&(e[1]=!0),"false"==e[1]&&(e[1]=!1),R[e[0]]=e[1],"url"===e[0]&&I.push(e[1]),"json"===e[0]&&(R.json,e[1])}));var _=document.getElementById(R.canvasID);!function(){(y=new o.CP7({canvas:_,antialias:!0,alpha:!0})).setSize(window.innerWidth,window.innerHeight),y.setPixelRatio(window.devicePixelRatio>1?2:1),y.outputEncoding=o.knz,y.toneMapping=o.LY2,y.toneMappingExposure=R.exposure,y.physicallyCorrectLights=!0,y.localClippingEnabled=!0,y.shadowMap.enabled=!0,y.shadowMap.type=2,(m=new p.M).setSize(window.innerWidth,window.innerHeight),m.domElement.style.position="absolute",m.domElement.style.top="0px",m.domElement.style.pointerEvents="none",document.body.appendChild(m.domElement),e=new o.xsS;var r=window.innerWidth/window.innerHeight;n=new o.cPb(75,r,.1,1e3),(i=new o.iKG(window.innerWidth/-r,window.innerWidth/r,window.innerHeight/r,window.innerHeight/-r,.1,1e3)).zoom=1,(t=n).position.set(0,5,0),e.add(t);var c=new o.Mig("white",R.ambientIntensity);R.ambientLight?e.add(c):e.remove(c),d=new o.Ox3("white",R.lightCameraIntensity),R.lightCamera?t.add(d):t.remove(d),f=new o.Ox3("white",R.lightSceneIntensity),R.lightScene?e.add(f):e.remove(f),f.castShadow=!0,f.shadow.mapSize.width=128,f.shadow.mapSize.height=128,f.shadow.radius=10,(x=new o.Kj0).name="shadowPlane",e.add(x),(w=new o.VLJ).name="gridHelper",w.visible=!1,e.add(w),(g=new o.y8_).name="axesHelper",g.visible=!1,e.add(g),(h=new a.z(t,_)).autoRotate=R.autoRotate,h.autoRotateSpeed=R.autoRotateSpeed,h.screenSpacePanning=R.mapControl,h.zoomSpeed=.5,h.rotateSpeed=.7,h.panSpeed=.7,h.mouseButtons={LEFT:o.RsA.ROTATE,MIDDLE:o.RsA.DOLLY,RIGHT:o.RsA.PAN},h.touches={ONE:o.QmN.ROTATE,TWO:o.QmN.DOLLY_PAN};var s=(new o.dpR).load("./textures/target.png"),l=new o.xeV({map:s,transparent:!0,opacity:.5,depthTest:!1,depthWrite:!1,sizeAttenuation:!1});h.addEventListener("start",(function(){var t=new o.jyi(l);t.position.copy(h.target),t.scale.set(.07,.07,.07),t.name="controlsPoint",e.add(t)})),h.addEventListener("end",(function(){var t=e.getObjectByName("controlsPoint");e.remove(t)}))}();var H,F=new o.SUY,Y=[];function N(){var n=window.innerWidth/window.innerHeight;t.aspect=n,t.left=window.innerWidth/-n,t.right=window.innerWidth/n,t.top=window.innerHeight/n,t.bottom=window.innerHeight/-n,t.updateProjectionMatrix(),m.setSize(window.innerWidth,window.innerHeight),m.render(e,t),y.setSize(window.innerWidth,window.innerHeight),y.render(e,t)}function W(){return(W=Pe(Se().mark((function e(t){var n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.addEventListener("resize",N),b=new O(t),document.body.appendChild(b),b.onAxisSelected=function(e){switch(e){case"X":r.ZP.to(t.position,{x:v.box.max.x+v.sizeBox,y:v.centerBox.y,z:v.centerBox.z,duration:1});break;case"-X":r.ZP.to(t.position,{x:v.box.min.x-v.sizeBox,y:v.centerBox.y,z:v.centerBox.z,duration:1});break;case"Y":r.ZP.to(t.position,{x:v.centerBox.x,y:v.box.max.y+v.sizeBox,z:v.centerBox.z+1e-4*v.sizeBox,duration:1,onUpdate:function(){},onComplete:function(){}});break;case"-Y":r.ZP.to(t.position,{x:v.centerBox.x,y:v.box.min.y-v.sizeBox,z:v.centerBox.z+1e-4*v.sizeBox,duration:1});break;case"Z":r.ZP.to(t.position,{x:v.centerBox.x,y:v.centerBox.y,z:v.box.max.z+v.sizeBox,duration:1});break;case"-Z":r.ZP.to(t.position,{x:v.centerBox.x,y:v.centerBox.y,z:v.box.min.z-v.sizeBox,duration:1})}t.lookAt(v.centerBox.x,v.centerBox.y,v.centerBox.z),h.target.set(v.centerBox.x,v.centerBox.y,v.centerBox.z)},document.getElementById("gizmo").style.display=R.navigationGizmo?"block":"none",R.json&&function(e){return W.apply(this,arguments)}("./models/".concat(R.json)).then((function(e){return M.push(e)})).catch((function(e){}));var Z=(new o.cBK).setPath("./textures/").load(["px-day.png","nx-day.png","py-day.png","ny-day.png","pz-day.png","nz-day.png"]);e.environment=e.background=R.environment?Z:null;var U=new s.a;U.setTranscoderPath("./basis/").detectSupport(y);var J=new c._;J.setDecoderPath("./draco/gltf/");var K=new l.E;K.setKTX2Loader(U),K.setDRACOLoader(J),K.setMeshoptDecoder(u.z),K.setPath(R.path);var Q=new o.ZAu;function q(e){return $.apply(this,arguments)}function $(){return($=Pe(Se().mark((function e(t){var n,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.loadAsync(t,(function(e){return ye(e,t)}));case 2:n=e.sent,(o=n.scene).name="glbUrlModelGroup",ce(o);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(){return(ee=Pe(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I.forEach((function(e,t){L.push(q(e))})),e.next=3,Promise.all(L);case 3:Ce(I[0]),D=!0;case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Q.name="meshGroup",I.length&&function(){return ee.apply(this,arguments)}().then(de).then(le).then((function(){})).catch(me),window.glbUrlImport=function(e){I.push(e),q(e).then(de).then(se).then(le).then((function(){document.getElementById("dropdown").style.display="none"})).then((function(){})).catch(me)};var te=document.getElementById(R.canvasID);function oe(e){return new Promise((function(t,n){K.parse(e,"",(function(e){return t(e)}),n)}))}function re(e){return ie.apply(this,arguments)}function ie(){return(ie=Pe(Se().mark((function e(t){var n,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe(t);case 2:n=e.sent,(o=n.scene).name="dragDropGlbModel",ce(o);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(){return(ae=Pe(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(L);case 2:D=!0;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(n){var i=[];n.traverse((function(e){e.isMesh&&(e.material.side=+R.materialSide,e.castShadow=R.castShadow,e.receiveShadow=R.receiveShadow,e.layers.enable(1),R.raycastAcc?e.geometry.computeBoundsTree():e.geometry.boundsTree=null,i.push(e))}));var a=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});i.sort((function(e,t){return a.compare(e.name,t.name)})),i.forEach((function(e){return T.push(e)})),i.forEach((function(e){return A.push(e.material.map)})),T.forEach((function(e){return Q.add(e)})),e.add(Q),function(n){v=new G(n,R.viewMode,t,h),r.ZP.to(t.position,{x:v.centerBox.x-v.sizeBox/2,y:v.centerBox.y+v.sizeBox/2,z:v.centerBox.z+v.sizeBox/2,duration:1.5,onUpdate:function(){}}),d.position.set(v.centerBox.x,v.box.max.y+2*v.centerBox.y,v.box.max.z),d.target.name="lightCameraTarget",d.target.position.copy(v.centerBox),d.target.updateMatrixWorld(),e.add(d.target),f.position.set(v.centerBox.x,v.box.max.y+2*v.centerBox.y,v.centerBox.z),f.target.name="lightSceneTarget",f.target.position.copy(v.centerBox),f.target.updateMatrixWorld(),e.add(f.target),f.shadow.camera.top=v.sizeBox,f.shadow.camera.bottom=-v.sizeBox,f.shadow.camera.left=-v.sizeBox,f.shadow.camera.right=v.sizeBox;new o.Rki(f.shadow.camera);e.remove(e.getObjectByName("shadowPlane"));var i=new o._12(2*v.sizeBox,2*v.sizeBox);i.rotateX(-Math.PI/2);var a=new o.Tn7({opacity:.4});(x=new o.Kj0(i,a)).name="shadowPlane",x.position.set(v.centerBox.x,v.box.min.y-2,v.centerBox.z),x.receiveShadow=R.shadowMap,e.add(x),e.remove(e.getObjectByName("gridHelper"));var c=2*v.sizeBox,s=20;(w=new o.VLJ(c,s)).name="gridHelper",w.position.x=v.centerBox.x,w.position.y=v.box.min.y-2,w.position.z=v.centerBox.z,w.visible=R.gridVisible,e.add(w),e.remove(e.getObjectByName("axesHelper")),(g=new o.y8_(v.sizeBox)).name="axesHelper",g.visible=R.axesVisible,e.add(g)}(Q)}function se(){ge.meshes=we.meshes=xe.meshes=ke.meshes=T,ge.jsonData=M,Ae=!0}function le(){new X(e,T,t,h,R.meshListID),function(){document.getElementById("chkGridHelper").checked=R.gridVisible,document.getElementById("chkAxeSwitch").checked=R.axesVisible,document.getElementById("chkAutoRotate").checked=R.autoRotate,document.getElementById("chkCamera").checked=R.cameraOrthoMode,document.getElementById("chkShadow").checked=R.shadowMap,document.getElementById("chkMeshShadow").checked=R.receiveShadow,0===R.materialSide?document.getElementById("chkMeshSide").checked=!1:2===R.materialSide&&(document.getElementById("chkMeshSide").checked=!0);document.getElementById("chkEnvMap").checked=R.environment,document.getElementById("chkNaviGizmo").checked=R.navigationGizmo,document.getElementById("chkPickColor").checked=R.pickColorOn,document.getElementById("chkBoxHelper").checked=R.boxHelperOn,document.getElementById("chkLabel").checked=R.labelOn,document.getElementById("chkRaycastAcc").checked=R.raycastAcc}()}te.addEventListener("dragover",(function(e){e.preventDefault(),this.style.backgroundColor="lightgray"})),te.addEventListener("drop",(function(e){e.stopPropagation(),e.preventDefault(),D=!1;var t=e.dataTransfer.files;M=[],ze(t).forEach((function(e,t){var n,o=e,r=o.name.split(".").pop().toLowerCase();"glb"==r&&L.push((n=o,new Promise((function(e,t){var o=new FileReader;o.onload=function(){return e(o.result)},o.readAsArrayBuffer(n),o.onprogress=function(e){e.loaded&&e.total&&(he(e.loaded/e.total,n.name),pe())}}))).then(re)),"json"==r&&function(e){return new Promise((function(t,n){var o=new FileReader;o.onload=function(){return t(o.result)},o.readAsText(e)}))}(o).then((function(e){return M.push(JSON.parse(e))}))})),function(){return ae.apply(this,arguments)}().then(de).then(se).then(le).catch(me),Ce(t[0].name),this.style.backgroundColor="transparent"}));var ue=document.createElement("div");function pe(){ue.style.display="block"}function de(){ue.style.display="none"}function he(e,t){ue.innerText="".concat(t," / ")+"⚡ Loading... "+Math.round(100*e,2)+"%"}function ye(e,t){e.lengthComputable&&he(Math.min(e.loaded/e.total,1),t);pe()}function me(e){ue.innerText=e}ue.id="progressBar",ue.innerhtml="Loading...",ue.style.fontSize="2.0rem",ue.style.color="black",ue.style.display="block",ue.style.position="absolute",ue.style.top="50%",ue.style.width="100%",ue.style.textAlign="center",ue.style.userSelect="none",document.body.appendChild(ue),ue.innerText="glb파일을 드래그 드롭하세요",document.addEventListener("keydown",(function(e){"Backspace"===e.key&&we.del();"w"===e.key&&(h.target.y+=1,h.object.position.y+=1);"s"===e.key&&(h.target.y-=1,h.object.position.y-=1);if("d"===e.key){var t=(new o.Pa4).subVectors(h.target,h.object.position);t.applyAxisAngle(new o.Pa4(0,1,0),-.01*Math.PI),h.target.addVectors(h.object.position,t)}if("a"===e.key){var n=(new o.Pa4).subVectors(h.target,h.object.position);n.applyAxisAngle(new o.Pa4(0,1,0),.01*Math.PI),h.target.addVectors(h.object.position,n)}e.ctrlKey&&e.key}));var be=new j(_),ve={flag:"pick"},ge=new V(e,t,T,R.propContentsID,M);ge.pickColorOn=R.pickColorOn,ge.boxHelperOn=R.boxHelperOn,ge.labelOn=R.labelOn,ge.propContentsOn=R.propContentsOn;var we=new Oe(e,t,T,y,ve);window.dist=function(){return we.dist()};var xe=new fe(e,t,T,y,ve);window.areaCal=function(){return xe.pick()};var ke=new ne(e,t,T,y,ve);window.volumeCal=function(){return ke.pick()},_.addEventListener("click",(function(e){if(!be.mouseMoved)switch(ve.flag){case"dim":we.mouse.x=e.clientX/_.clientWidth*2-1,we.mouse.y=-(e.clientY/_.clientHeight*2-1),we.start();break;case"area":xe.mouse.x=e.clientX/_.clientWidth*2-1,xe.mouse.y=-(e.clientY/_.clientHeight*2-1),xe.calArea();break;case"volume":ke.mouse.x=e.clientX/_.clientWidth*2-1,ke.mouse.y=-(e.clientY/_.clientHeight*2-1),ke.calVol();break;case"pick":ge.mouse.x=e.clientX/_.clientWidth*2-1,ge.mouse.y=-(e.clientY/_.clientHeight*2-1),ge.pick()}})),_.addEventListener("mousemove",(function(e){"dim"===ve.flag&&(e.preventDefault(),we.mouse.x=e.clientX/_.clientWidth*2-1,we.mouse.y=-(e.clientY/_.clientHeight*2-1),we.drawing())}));var Be=document.querySelector(".menu"),Ee=document.querySelector("#gizmo");function Ce(e){var t=e.slice(0,e.indexOf(".glb"));return document.getElementById("fileName").innerText=t,t}function Ie(e,t,n,r){var i,a=je(T);try{for(a.s();!(i=a.n()).done;){i.value.material.clippingPlanes=null}}catch(e){a.e(e)}finally{a.f()}var c=new o.Pa4(t.x,t.y,t.z);e.forEach((function(e){var t=(new o.ZzF).setFromObject(e).getCenter(new o.Pa4),i=new o.Pa4;switch(n){case"X":e.position.x=i.subVectors(t,c).multiplyScalar(r).x;break;case"Y":e.position.y=i.subVectors(t,c).multiplyScalar(r).y;break;case"Z":e.position.z=i.subVectors(t,c).multiplyScalar(r).z}}))}R.menu?(Be.style.display="block",Ee.style.top="6rem"):(Be.style.display="none",Ee.style.top="0rem"),window.dropdown=function(){"block"==document.getElementById("dropdown").style.display?document.getElementById("dropdown").style.display="none":document.getElementById("dropdown").style.display="block"},window.openTab=function(e,t){if("block"==document.getElementById(t).style.display)document.getElementById(t).style.display="none",e.currentTarget.className="tablinks";else{for(var n=document.getElementsByClassName("side"),o=0;o<n.length;o++)n[o].style.display="none";for(var r=document.getElementsByClassName("tablinks"),i=0;i<r.length;i++)r[i].className=r[i].className.replace(" active","");document.getElementById(t).style.display="block",e.currentTarget.className+=" active"}},window.scaleXUp=function(e){var t,n=je(T);try{for(n.s();!(t=n.n()).done;){t.value.material.clippingPlanes=null}}catch(e){n.e(e)}finally{n.f()}document.getElementById("scaleXSpan").textContent=e.target.value;var r,i=(new o.Pa4).subVectors(new o.Pa4(0,0,0),v.centerBox),a=je(T);try{for(a.s();!(r=a.n()).done;){var c=r.value;c.scale.x=e.target.value,c.position.x=i.x*e.target.value-i.x}}catch(e){a.e(e)}finally{a.f()}},window.scaleYUp=function(e){var t,n=je(T);try{for(n.s();!(t=n.n()).done;){t.value.material.clippingPlanes=null}}catch(e){n.e(e)}finally{n.f()}document.getElementById("scaleYSpan").textContent=e.target.value;var r,i=(new o.Pa4).subVectors(new o.Pa4(0,0,0),v.centerBox),a=je(T);try{for(a.s();!(r=a.n()).done;){var c=r.value;c.scale.y=e.target.value,c.position.y=i.y*e.target.value-i.y}}catch(e){a.e(e)}finally{a.f()}},window.scaleZUp=function(e){var t,n=je(T);try{for(n.s();!(t=n.n()).done;){t.value.material.clippingPlanes=null}}catch(e){n.e(e)}finally{n.f()}document.getElementById("scaleZSpan").textContent=e.target.value;var r,i=(new o.Pa4).subVectors(new o.Pa4(0,0,0),v.centerBox),a=je(T);try{for(a.s();!(r=a.n()).done;){var c=r.value;c.scale.z=e.target.value,c.position.z=i.z*e.target.value-i.z}}catch(e){a.e(e)}finally{a.f()}},window.explodeXChange=function(e){Ie(T,v.centerBox,"X",e.target.value)},window.explodeYChange=function(e){Ie(T,v.centerBox,"Y",e.target.value)},window.explodeZChange=function(e){Ie(T,v.centerBox,"Z",e.target.value)};var Le=!1,Me=!1,Te=!1,Ae=!0;function De(e){h.object=e,h.target.set(v.centerBox.x,v.centerBox.y,v.centerBox.z),h.update(),b.camera=e,ge.camera=e,we.camera=e,xe.camera=e,ke.camera=e}k=[new o.JOQ(new o.Pa4(-1,0,0),document.getElementById("rngClippingX").value),new o.JOQ(new o.Pa4(0,-1,0),document.getElementById("clippingYId").value),new o.JOQ(new o.Pa4(0,0,-1),document.getElementById("clippingZId").value)],window.onClipping=function(t){if(t.target.checked){var n,r=je(T);try{for(r.s();!(n=r.n()).done;){n.value.material.clippingPlanes=k}}catch(e){r.e(e)}finally{r.f()}if(document.getElementById("clippingXGroup").style.display="flex",document.getElementById("clippingYGroup").style.display="flex",document.getElementById("clippingZGroup").style.display="flex",Ae||(P.visible=!0,z.visible=!0,C.visible=!0),!Ae)return;Ae=!1,document.getElementById("rngClippingX").min=v.box.min.x-.1,document.getElementById("rngClippingX").max=v.box.max.x+.1,document.getElementById("rngClippingX").step=.01,document.getElementById("rngClippingX").value=document.getElementById("rngClippingX").max,document.getElementById("clippingYId").min=v.box.min.y-.1,document.getElementById("clippingYId").max=v.box.max.y+.1,document.getElementById("clippingYId").step=.01,document.getElementById("clippingYId").value=document.getElementById("clippingYId").max,document.getElementById("clippingZId").min=v.box.min.z-.1,document.getElementById("clippingZId").max=v.box.max.z+.1,document.getElementById("clippingZId").step=.01,document.getElementById("clippingZId").value=document.getElementById("clippingZId").max,(B=new o.tJx(k[0],v.sizeBox,"red")).visible=!1,e.add(B),(S=new o.tJx(k[1],v.sizeBox,"green")).visible=!1,e.add(S),(E=new o.tJx(k[2],v.sizeBox,"blue")).visible=!1,e.add(E),k[0].constant=document.getElementById("rngClippingX").max,k[1].constant=document.getElementById("clippingYId").max,k[2].constant=document.getElementById("clippingZId").max;var i=new o._12(v.sizeBox,v.sizeBox),a=i.clone();a.rotateY(Math.PI/2);var c=i.clone();c.rotateX(Math.PI/2);var s=i.clone(),l=new o.vBJ({color:"red",opacity:.2,transparent:!0,side:o.ehD}),u=new o.vBJ({color:"green",opacity:.2,transparent:!0,side:o.ehD}),p=new o.vBJ({color:"blue",opacity:.2,transparent:!0,side:o.ehD});(P=new o.Kj0(a,l)).position.set(k[0].constant,v.centerBox.y,v.centerBox.z),e.add(P),(z=new o.Kj0(c,u)).position.set(v.centerBox.x,k[1].constant,v.centerBox.z),e.add(z),(C=new o.Kj0(s,p)).position.set(v.centerBox.x,v.centerBox.y,k[2].constant),e.add(C),P.updateMatrixWorld()}else document.getElementById("clippingXGroup").style.display="none",document.getElementById("clippingYGroup").style.display="none",document.getElementById("clippingZGroup").style.display="none",B.visible=!1,S.visible=!1,E.visible=!1,e.remove(B),e.remove(S),e.remove(E),P.visible=!1,z.visible=!1,C.visible=!1},window.clippingXSlide=function(e){Le?(k[0].constant=-e.target.value,P.position.set(-e.target.value,v.centerBox.y,v.centerBox.z)):(k[0].constant=e.target.value,P.position.set(e.target.value,v.centerBox.y,v.centerBox.z))},window.clippingYSlide=function(e){Me?(k[1].constant=-e.target.value,z.position.set(v.centerBox.x,-e.target.value,v.centerBox.z)):(k[1].constant=e.target.value,z.position.set(v.centerBox.x,e.target.value,v.centerBox.z))},window.clippingZSlide=function(e){Te?(k[2].constant=-e.target.value,C.position.set(v.centerBox.x,v.centerBox.y,-e.target.value)):(k[2].constant=e.target.value,C.position.set(v.centerBox.x,v.centerBox.y,e.target.value))},window.negateXSwitch=function(e){e.target.checked?(k[0].negate(),Le=!0):(k[0].negate(),Le=!1)},window.negateYSwitch=function(e){e.target.checked?(k[1].negate(),Me=!0):(k[1].negate(),Me=!1)},window.negateZSwitch=function(e){e.target.checked?(k[2].negate(),Te=!0):(k[2].negate(),Te=!1)},window.wireframeSwitch=function(e){var t,n=je(T);try{for(n.s();!(t=n.n()).done;){t.value.material.wireframe=!!e.target.checked}}catch(e){n.e(e)}finally{n.f()}},window.solidSwitch=function(e){e.target.checked?T.forEach((function(e){e.material.map=null,e.material.needsUpdate=!0})):T.forEach((function(e,t){e.material.map=A[t],e.material.needsUpdate=!0}))},window.gridHelperSwith=function(e){w.visible=!!e.target.checked},window.axeSwitch=function(e){g.visible=!!e.target.checked},window.autoRotateSwitch=function(e){h.autoRotate=!!e.target.checked},window.cameraSwitch=function(){t.isPerspectiveCamera?(i.near=.001,i.far=n.far,i.zoom=.4*Math.min(window.innerWidth/(v.box.max.x-v.box.min.x),window.innerHeight/(v.box.max.y-v.box.min.y)),(t=i).position.copy(n.position),t.updateProjectionMatrix(),De(t),N()):t.isOrthographicCamera&&((t=n).position.copy(i.position),t.updateProjectionMatrix(),De(t),N())},window.shadowSwitch=function(e){x.receiveShadow=!!e.target.checked},window.meshShadowSwitch=function(e){var t,n=je(T);try{for(n.s();!(t=n.n()).done;){t.value.receiveShadow=!!e.target.checked}}catch(e){n.e(e)}finally{n.f()}},window.meshSideSwitch=function(e){var t,n=je(T);try{for(n.s();!(t=n.n()).done;){var o=t.value;o.material.side=e.target.checked?2:0,o.material.needsUpdate=!0}}catch(e){n.e(e)}finally{n.f()}},window.mapControlSwitch=function(e){h.screenSpacePanning=!e.target.checked},window.envMapSwitch=function(t){e.background=e.environment=t.target.checked?Z:null},document.getElementById("exposureId").value=R.exposure,document.getElementById("exposureSpanId").textContent=R.exposure,window.exposureChange=function(e){y.toneMappingExposure=e.target.value,document.getElementById("exposureSpanId").textContent=e.target.value},window.navigationGizmoSwith=function(e){document.getElementById("gizmo").style.display=e.target.checked?"block":"none"},window.pickColorSwith=function(e){ge.pickColorOn=!!e.target.checked},window.boxHelperSwith=function(e){ge.boxHelperOn=!!e.target.checked},window.labelSwith=function(e){ge.labelOn=!!e.target.checked},window.raycastAccSwitch=function(e){var t,n=je(T);try{for(n.s();!(t=n.n()).done;){var o=t.value;e.target.checked?o.geometry.computeBoundsTree():o.geometry.boundsTree=null}}catch(e){n.e(e)}finally{n.f()}},function n(){F.getDelta();var r=F.getElapsedTime();h.update(),b.update();var i=h.target.distanceTo(h.object.position),a=h.minDistanceSettingValue;if(1==D&&i<a){var c=h.object.position,s=h.target,l=new o.Pa4;s.copy(l.subVectors(s,c).normalize().multiplyScalar(3).add(s)),h.update()}for(y.setAnimationLoop(n),y.render(e,t),m.render(e,t);Y.length>0&&Y[0]<=r-1;)Y.shift();Y.push(r),H=Y.length,document.getElementById("renderCalls").textContent=y.info.render.calls.toLocaleString("ko-KR"),document.getElementById("renderTriangles").textContent=y.info.render.triangles.toLocaleString("ko-KR"),document.getElementById("renderGeometries").textContent=y.info.memory.geometries.toLocaleString("ko-KR"),document.getElementById("renderTextures").textContent=y.info.memory.textures.toLocaleString("ko-KR"),document.getElementById("renderFps").textContent=H,y.info.autoReset=!1,y.info.reset()}()}()}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,o),i.exports}o.m=t,e=[],o.O=(t,n,r,i)=>{if(!n){var a=1/0;for(u=0;u<e.length;u++){for(var[n,r,i]=e[u],c=!0,s=0;s<n.length;s++)(!1&i||a>=i)&&Object.keys(o.O).every((e=>o.O[e](n[s])))?n.splice(s--,1):(c=!1,i<a&&(a=i));if(c){e.splice(u--,1);var l=r();void 0!==l&&(t=l)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,r,i]},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={179:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var r,i,[a,c,s]=n,l=0;if(a.some((t=>0!==e[t]))){for(r in c)o.o(c,r)&&(o.m[r]=c[r]);if(s)var u=s(o)}for(t&&t(n);l<a.length;l++)i=a[l],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(u)},n=self.webpackChunkweb_viewer=self.webpackChunkweb_viewer||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var r=o.O(void 0,[679],(()=>o(8572)));r=o.O(r)})();