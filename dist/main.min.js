/*! For license information please see main.min.js.LICENSE.txt */
(()=>{"use strict";var t,e={4658:(t,e,n)=>{n(4883),n(853),n(5007),n(8995),n(6650),n(9275),n(3528),n(5054),n(6364),n(6632),n(1928),n(4845),n(8821),n(4994),n(2729),n(3694),n(4063),n(2031),n(6908),n(6208),n(2798),n(2321),n(3290),n(9457),n(5281);var r=n(6075),o=n(8345),i=n(8012),a=n(3934),c=n(981),s=n(4418),l=n(6070),u=n(9352);n(3130),n(3382),n(5005),n(4130),n(644);function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function h(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e){if(e&&("object"===f(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return m(t)}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t){var e="function"==typeof Map?new Map:void 0;return v=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return b(t,arguments,x(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),w(r,t)},v(t)}function b(t,e,n){return b=g()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&w(o,n.prototype),o},b.apply(null,arguments)}function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function w(t,e){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},w(t,e)}function x(t){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},x(t)}var O=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e)}(s,t);var e,n,o,i,a,c=(e=s,n=g(),function(){var t,r=x(e);if(n){var o=x(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return y(this,t)});function s(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(n=c.call(this)).camera=t,n.options=Object.assign({size:90,padding:8,bubbleSizePrimary:8,bubbleSizeSeconday:6,showSecondary:!0,lineWidth:2,fontSize:"11px",fontFamily:"arial",fontWeight:"bold",fontColor:"#151515",fontYAdjust:0,colors:{x:["#f73c3c","#942424"],y:["#6ccb26","#417a17"],z:["#178cf0","#0e5490"]}},e),n.onAxisSelected=null,n.bubbles=[{axis:"X",direction:new r.Pa4(1,0,0),size:n.options.bubbleSizePrimary,color:n.options.colors.x,line:n.options.lineWidth,label:"X"},{axis:"Y",direction:new r.Pa4(0,1,0),size:n.options.bubbleSizePrimary,color:n.options.colors.y,line:n.options.lineWidth,label:"Y"},{axis:"Z",direction:new r.Pa4(0,0,1),size:n.options.bubbleSizePrimary,color:n.options.colors.z,line:n.options.lineWidth,label:"Z"},{axis:"-X",direction:new r.Pa4(-1,0,0),size:n.options.bubbleSizeSeconday,color:n.options.colors.x},{axis:"-Y",direction:new r.Pa4(0,-1,0),size:n.options.bubbleSizeSeconday,color:n.options.colors.y},{axis:"-Z",direction:new r.Pa4(0,0,-1),size:n.options.bubbleSizeSeconday,color:n.options.colors.z}],n.center=new r.Pa4(n.options.size/2,n.options.size/2,0),n.selectedAxis=null,n.innerHTML="<canvas width='"+n.options.size+"' height='"+n.options.size+"'></canvas>",n.id="gizmo",n.onMouseMove=n.onMouseMove.bind(m(n)),n.onMouseOut=n.onMouseOut.bind(m(n)),n.onMouseClick=n.onMouseClick.bind(m(n)),n}return o=s,i=[{key:"connectedCallback",value:function(){this.canvas=this.querySelector("canvas"),this.context=this.canvas.getContext("2d"),this.canvas.addEventListener("mousemove",this.onMouseMove,!1),this.canvas.addEventListener("mouseout",this.onMouseOut,!1),this.canvas.addEventListener("click",this.onMouseClick,!1)}},{key:"disconnectedCallback",value:function(){this.canvas.removeEventListener("mousemove",this.onMouseMove,!1),this.canvas.removeEventListener("mouseout",this.onMouseOut,!1),this.canvas.removeEventListener("click",this.onMouseClick,!1)}},{key:"onMouseMove",value:function(t){var e=this.canvas.getBoundingClientRect();this.mouse=new r.Pa4(t.clientX-e.left,t.clientY-e.top,0)}},{key:"onMouseOut",value:function(t){this.mouse=null}},{key:"onMouseClick",value:function(t){this.onAxisSelected&&"function"==typeof this.onAxisSelected&&this.onAxisSelected(this.selectedAxis.axis)}},{key:"clear",value:function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}},{key:"drawCircle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#FF0000";this.context.beginPath(),this.context.arc(t.x,t.y,e,0,2*Math.PI,!1),this.context.fillStyle=n,this.context.fill(),this.context.closePath()}},{key:"drawLine",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#FF0000";this.context.beginPath(),this.context.moveTo(t.x,t.y),this.context.lineTo(e.x,e.y),this.context.lineWidth=n,this.context.strokeStyle=r,this.context.stroke(),this.context.closePath()}},{key:"update",value:function(){this.clear();var t,e=(new r.yGw).makeRotationFromEuler(this.camera.rotation).clone().invert(),n=h(this.bubbles);try{for(n.s();!(t=n.n()).done;)(l=t.value).position=this.getBubblePosition(l.direction.clone().applyMatrix4(e))}catch(t){n.e(t)}finally{n.f()}var o=[];for(var i in this.bubbles)!0!==this.options.showSecondary&&"-"===i[0]||o.push(this.bubbles[i]);if(o.sort((function(t,e){return t.position.z>e.position.z?1:-1})),this.selectedAxis=null,this.mouse){var a,c=1/0,s=h(o);try{for(s.s();!(a=s.n()).done;){var l=a.value,u=this.mouse.distanceTo(l.position);(u<c||u<l.size)&&(c=u,this.selectedAxis=l)}}catch(t){s.e(t)}finally{s.f()}}this.drawLayers(o)}},{key:"drawLayers",value:function(t){var e,n=h(t);try{for(n.s();!(e=n.n()).done;){var r=e.value,o=r.color;o=this.selectedAxis===r?"#FFFFFF":r.position.z>=-.01?r.color[0]:r.color[1],this.drawCircle(r.position,r.size,o),r.line&&this.drawLine(this.center,r.position,r.line,o),r.label&&(this.context.font=[this.options.fontWeight,this.options.fontSize,this.options.fontFamily].join(" "),this.context.fillStyle=this.options.fontColor,this.context.textBaseline="middle",this.context.textAlign="center",this.context.fillText(r.label,r.position.x,r.position.y+this.options.fontYAdjust))}}catch(t){n.e(t)}finally{n.f()}}},{key:"getBubblePosition",value:function(t){return new r.Pa4(t.x*(this.center.x-this.options.bubbleSizePrimary/2-this.options.padding)+this.center.x,this.center.y-t.y*(this.center.y-this.options.bubbleSizePrimary/2-this.options.padding),t.z)}}],i&&d(o.prototype,i),a&&d(o,a),Object.defineProperty(o,"prototype",{writable:!1}),s}(v(HTMLElement));function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function S(t,e,n){return e&&k(t.prototype,e),n&&k(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}window.customElements.define("orientation-gizmo",O);var j=S((function t(e){var n,r,o,i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.mouseMoved,e.addEventListener("mousedown",(function(t){n=t.clientX,r=t.clientY,o=Date.now()})),e.addEventListener("mouseup",(function(t){var e=Math.abs(t.clientX-n),a=Math.abs(t.clientY-r),c=o-Date.now();i.mouseMoved=e>5||a>5||c>500}))}));n(5862),n(3214),n(7751),n(238);function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var P=function(){function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scene=e,this.camera=n,this.meshes=o,this.mouse=new r.FM8,this.raycaster=new r.iMs,this.intersects}return function(t,e,n){e&&E(t.prototype,e),n&&E(t,n),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"findIntersect",value:function(){this.raycaster.setFromCamera(this.mouse,this.camera),this.raycaster.layers.set(1),this.intersects=this.raycaster.intersectObjects(this.meshes,!1)}}]),t}();function L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function B(t,e,n){return e&&L(t.prototype,e),n&&L(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var C=B((function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.circleTexture=(new r.dpR).load("./textures/circle.png");var i=new r.xeV({map:this.circleTexture,transparent:!0,depthTest:!1,depthWrite:!1,sizeAttenuation:!1}),a=new r.jyi(i);return a.position.set(e,n,o),a.scale.set(.02,.02,.02),a}));function z(t){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z(t)}function T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function I(){return I="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=M(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},I.apply(this,arguments)}function M(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=R(t)););return t}function _(t,e){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_(t,e)}function A(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=R(t);if(e){var o=R(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return D(this,n)}}function D(t,e){if(e&&("object"===z(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function R(t){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},R(t)}var F=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_(t,e)}(n,t);var e=A(n);function n(t,r,o,i){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(a=e.call(this,t,r,o)).propContentsID=i,a.pickColorOn=!0,a.boxHelperOn=!0,a.labelOn=!0,a.propContentsOn=!0,a.propContents=document.getElementById(a.propContentsID),a.propContents.innerHTML="객체를 클릭하면 속성이 표기됨",a.scrollIntoViewElement=null,a.label=document.createElement("div"),a.label.id="label",a.label.style.position="absolute",a.label.style.display="inline-block",a.label.style.top="0rem",a.label.style.minWidth="35rem",a.label.style.padding="1rem",a.label.style.overflowY="auto",a.label.style.fontSize="2.4rem",a.label.style.fontFamily="sans-serif",a.label.style.color="white",a.label.style.background="rgba(0, 0, 0, 0.8)",a.labelCSS2D,a}return function(t,e,n){e&&T(t.prototype,e),n&&T(t,n),Object.defineProperty(t,"prototype",{writable:!1})}(n,[{key:"pick",value:function(){if(this.scrollIntoViewElement&&(this.scrollIntoViewElement.style.background="",this.scrollIntoViewElement=null),this.scene.remove(this.pickCloneObj),this.scene.remove(this.pickBoxHelper),this.scene.remove(this.marker),this.scene.remove(this.labelCSS2D),this.propContents.innerHTML="객체를 클릭하면 속성이 표기됨",I(R(n.prototype),"findIntersect",this).call(this),this.intersects.length){this.pickObject=this.intersects[0].object;var t;this.intersects[0].object;if(this.scrollIntoViewElement=document.getElementById("".concat(this.pickObject.uuid)),this.scrollIntoViewElement.scrollIntoView({behavior:"smooth"}),this.scrollIntoViewElement.style.background="lightgray",this.pickColorOn){var e=new r.EJi({color:"#ff8747",roughness:.4,metalness:1,emissive:"red",side:2});this.pickCloneObj=this.pickObject.clone(),this.pickCloneObj.material=e,this.pickCloneObj.name="cloneObj",this.scene.add(this.pickCloneObj)}if(this.boxHelperOn&&(this.pickBoxHelper=new r.fQA(this.pickObject,"forestgreen"),this.scene.add(this.pickBoxHelper)),this.labelOn){this.marker=new C(this.intersects[0].point.x,this.intersects[0].point.y,this.intersects[0].point.z),this.scene.add(this.marker),this.label.innerHTML="\n            Name : ".concat(this.pickObject.name," <br>\n            "),document.body.appendChild(this.label);var o=document.createElement("div");o.appendChild(this.label),this.labelCSS2D=new u.j(o),this.labelCSS2D.position.copy(this.intersects[0].point),this.scene.add(this.labelCSS2D)}if(this.propContentsOn)this.propContents.innerHTML="",this.propContents.innerHTML+="\n            &nbsp; Mesh Name : ".concat(this.pickObject.name," <br>\n            &nbsp; Point x : ").concat(this.intersects[0].point.x.toFixed(3)," <br>\n            &nbsp; Point y : ").concat(this.intersects[0].point.y.toFixed(3)," <br>\n            &nbsp; Point z : ").concat(this.intersects[0].point.z.toFixed(3)," <br>\n            &nbsp; Uuid : ").concat(this.pickObject.uuid," <br>\n            &nbsp; Id : ").concat(this.pickObject.id," <br>\n            &nbsp; Geometry Type : ").concat(this.pickObject.geometry.type," <br>\n            &nbsp; Material Name : ").concat(this.pickObject.material.name," <br>\n            &nbsp; Material Opacity : ").concat(this.pickObject.material.opacity," <br>\n            &nbsp; Texture MIME Type : ").concat((null===(t=this.pickObject.material.map)||void 0===t?void 0:t.userData.mimeType)||"없음"," <br>\n            ")}}}]),n}(P);function N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var H=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scene=e,this.meshes=n,this.meshListID=r,this.listElement=document.getElementById(this.meshListID),this.listElement.innerHTML="";for(var o=0;o<this.meshes.length;o++)this.addList(this.meshes[o].name,this.meshes[o].uuid)}return function(t,e,n){e&&N(t.prototype,e),n&&N(t,n),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"addList",value:function(t,e){var n=this;this.meshListTotal=document.createElement("div"),this.meshListTotal.className="flexCenter",this.meshListTotal.id=e,this.meshListTotal.style.justifyContent="space-between",this.checkListGroupDiv=document.createElement("div"),this.checkListGroupDiv.addEventListener("click",(function(t){n.onVisible(t)}));var r=document.createElement("input");r.type="checkbox",r.checked="true",r.id="label"+e,r.setAttribute("uuid",e),r.name=t,this.checkListGroupDiv.appendChild(r);var o=document.createElement("label");o.htmlFor="label"+e,o.name=t,o.appendChild(document.createTextNode(t)),this.checkListGroupDiv.appendChild(o),this.meshListTotal.appendChild(this.checkListGroupDiv);var i=document.createElement("div"),a=this.scene.getObjectByProperty("uuid",e),c=document.createElement("input");c.placeholder="color",c.type="color",c.value="#"+a.material.color.getHexString(),c.setAttribute("uuid",e),i.appendChild(c),c.addEventListener("input",(function(t){return n.changeColor(t)}));var s=document.createElement("input");s.name=t,s.type="text",s.value=100,s.setAttribute("uuid",e),i.appendChild(s);var l=document.createElement("span");l.innerText="%",i.appendChild(l),this.meshListTotal.appendChild(i),s.addEventListener("change",(function(t){return n.opcaityChange(t)})),this.listElement.appendChild(this.meshListTotal)}},{key:"changeColor",value:function(t){var e=t.target.getAttribute("uuid"),n=this.scene.getObjectByProperty("uuid",e),r=n.material.clone();n.material=r,n.material.color.set(t.target.value)}},{key:"onVisible",value:function(t){var e=t.target.getAttribute("uuid"),n=this.scene.getObjectByProperty("uuid",e);switch(t.target.checked){case!0:n.visible=!0,n.layers.enable(1);break;case!1:n.visible=!1,n.layers.disable(1),this.scene.remove(this.scene.getObjectByName("cloneObj"))}}},{key:"opcaityChange",value:function(t){var e=t.target.getAttribute("uuid"),n=this.scene.getObjectByProperty("uuid",e),r=+t.target.value;r=r>100?100:r<1?1:r,t.target.value=r;var o=n.material.clone();n.material=o,n.material.transparent=!0,n.material.opacity=t.target.value/100,100==t.target.value&&(n.material.transparent=!1)}}]),t}();function V(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function G(t,e,n){return e&&V(t.prototype,e),n&&V(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var Y=G((function t(e,n,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.model=e,this.viewMode=n,this.camera=o,this.controls=i,this.box=(new r.ZzF).setFromObject(this.model),this.sizeBox=this.box.getSize(new r.Pa4).length(),this.centerBox=this.box.getCenter(new r.Pa4);var a=0,c=0,s=0;switch(this.viewMode){case"X":a=1;break;case"Y":c=1;break;case"Z":s=1;break;case"-X":a=1,a*=-1;break;case"-Y":c=1,c*=-1;break;case"-Z":s=1,s*=-1}this.camera.position.set(this.centerBox.x+a,this.centerBox.y+c,this.centerBox.z+s);var l=.5*this.sizeBox,u=Math.PI/180*(.5*this.camera.fov),f=l/Math.tan(u),h=(new r.Pa4).subVectors(this.camera.position,this.centerBox).normalize().multiplyScalar(f).add(this.centerBox);this.camera.position.copy(h),this.camera.near=Math.min(this.sizeBox/100,.1),this.camera.far=100*this.sizeBox,this.camera.updateProjectionMatrix(),this.camera.lookAt(this.centerBox.x,this.centerBox.y,this.centerBox.z),this.controls.target.set(this.centerBox.x,this.centerBox.y,this.centerBox.z),this.controls.minDistanceSettingValue=f/20}));function W(t){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(t)}function X(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Z(){return Z="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=U(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Z.apply(this,arguments)}function U(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=$(t)););return t}function K(t,e){return K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},K(t,e)}function J(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=$(t);if(e){var o=$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Q(this,n)}}function Q(t,e){if(e&&("object"===W(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function $(t){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$(t)}var q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K(t,e)}(n,t);var e=J(n);function n(t,r,o,i,a){var c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(c=e.call(this,t,r,o)).renderer=i,c.infoState=a,c.pickColorOn=!0,c.labelOn=!0,c.pickObjectSaveMaterial=0,c.pickObject=null,c}return function(t,e,n){e&&X(t.prototype,e),n&&X(t,n),Object.defineProperty(t,"prototype",{writable:!1})}(n,[{key:"pick",value:function(){this.infoState.flag="volume",this.renderer.domElement.style.cursor="crosshair"}},{key:"calVol",value:function(){var t=this;if(Z($(n.prototype),"findIntersect",this).call(this),this.intersects.length){if(this.pickObject=this.intersects[0].object,this.pickColorOn){this.pickObjectSaveMaterial=this.pickObject.material;var e=new r.EJi({color:"skyblue",roughness:.5,metalness:1,side:2});this.pickObject.material=e,document.getElementById("volSpan").textContent=tt(this.pickObject.geometry).toFixed(3)+" ㎥"}if(this.labelOn){this.marker=new C(this.intersects[0].point.x,this.intersects[0].point.y,this.intersects[0].point.z),this.scene.add(this.marker),this.label=document.createElement("div"),this.label.id="volLabel",this.label.innerHTML=tt(this.pickObject.geometry).toFixed(3)+" ㎥",this.label.style.top="0rem",this.label.style.position="absolute",this.label.style.display="inline-block",this.label.style.top="1rem",this.label.style.minWidth="35rem",this.label.style.padding="1rem",this.label.style.overflowY="auto",this.label.style.fontSize="2.4rem",this.label.style.fontFamily="sans-serif",this.label.style.color="white",this.label.style.background="skyblue";var o=document.createElement("div");o.appendChild(this.label),this.labelCSS2D=new u.j(o),this.labelCSS2D.position.copy(this.intersects[0].point),this.scene.add(this.labelCSS2D)}setTimeout((function(){alert("체적 = ".concat(tt(t.pickObject.geometry).toFixed(3)," ㎥")),t.pickObject&&t.pickColorOn&&(t.pickObject.material=t.pickObjectSaveMaterial,t.pickObject=null),t.scene.remove(t.labelCSS2D),t.scene.remove(t.marker),document.getElementById("volSpan").textContent="",t.infoState.flag="pick"}),200),this.renderer.domElement.style.cursor="default"}}}]),n}(P);function tt(t){if(!t.isBufferGeometry)return 0;var e=null!==t.index,n=t.attributes.position,o=0,i=new r.Pa4,a=new r.Pa4,c=new r.Pa4;if(e)for(var s=t.index,l=s.count/3,u=0;u<l;u++)i.fromBufferAttribute(n,s.array[3*u+0]),a.fromBufferAttribute(n,s.array[3*u+1]),c.fromBufferAttribute(n,s.array[3*u+2]),o+=et(i,a,c);else for(var f=n.count/3,h=0;h<f;h++)i.fromBufferAttribute(n,3*h+0),a.fromBufferAttribute(n,3*h+1),c.fromBufferAttribute(n,3*h+2),o+=et(i,a,c);return o}function et(t,e,n){return t.dot(e.cross(n))/6}n(5252);function nt(t){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nt(t)}function rt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ot(){return ot="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=it(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},ot.apply(this,arguments)}function it(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=lt(t)););return t}function at(t,e){return at=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},at(t,e)}function ct(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=lt(t);if(e){var o=lt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return st(this,n)}}function st(t,e){if(e&&("object"===nt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function lt(t){return lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lt(t)}var ut=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&at(t,e)}(n,t);var e=ct(n);function n(t,r,o,i,a){var c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(c=e.call(this,t,r,o)).renderer=i,c.infoState=a,c.pickColorOn=!0,c.labelOn=!0,c.pickObjectSaveMaterial=null,c.pickObject=null,c}return function(t,e,n){e&&rt(t.prototype,e),n&&rt(t,n),Object.defineProperty(t,"prototype",{writable:!1})}(n,[{key:"pick",value:function(){this.renderer.domElement.style.cursor="crosshair",this.infoState.flag="area"}},{key:"calArea",value:function(){var t=this;if(ot(lt(n.prototype),"findIntersect",this).call(this),this.intersects.length){if(this.pickObject=this.intersects[0].object,this.pickColorOn){this.pickObjectSaveMaterial=this.pickObject.material;var e=new r.EJi({color:"orange",roughness:.5,metalness:1,side:2});this.pickObject.material=e,document.getElementById("areaSpan").textContent=ft(this.pickObject.geometry).toFixed(3)+" ㎡"}if(this.labelOn){this.marker=new C(this.intersects[0].point.x,this.intersects[0].point.y,this.intersects[0].point.z),this.scene.add(this.marker),this.label=document.createElement("div"),this.label.id="areaLabel",this.label.innerHTML=ft(this.pickObject.geometry).toFixed(3)+" ㎡",this.label.style.position="absolute",this.label.style.display="inline-block",this.label.style.top="0rem",this.label.style.minWidth="35rem",this.label.style.padding="1rem",this.label.style.overflowY="auto",this.label.style.fontSize="2.4rem",this.label.style.fontFamily="sans-serif",this.label.style.color="white",this.label.style.background="orange";var o=document.createElement("div");o.appendChild(this.label),this.labelCSS2D=new u.j(o),this.labelCSS2D.position.copy(this.intersects[0].point),this.scene.add(this.labelCSS2D)}setTimeout((function(){alert("면적 = ".concat(ft(t.pickObject.geometry).toFixed(3)," ㎡")),t.pickObject&&t.pickColorOn&&(t.pickObject.material=t.pickObjectSaveMaterial,t.pickObject=null),t.scene.remove(t.labelCSS2D),t.scene.remove(t.marker),document.getElementById("areaSpan").textContent="",t.infoState.flag="pick"}),200),this.renderer.domElement.style.cursor="default"}}}]),n}(P);function ft(t){var e=t;function n(t,e,n){var o=new r.Pa4,i=new r.Pa4;o=t.clone().sub(e),i=t.clone().sub(n);var a=new r.Pa4;return a.crossVectors(o,i),a.length()/2}for(var o=0,i=new r.Pa4,a=new r.Pa4,c=new r.Pa4,s=0;s<e.index.count/3;s++){var l=e.attributes.position,u=e.index.array;i.fromBufferAttribute(l,u[3*s+0]),a.fromBufferAttribute(l,u[3*s+1]),c.fromBufferAttribute(l,u[3*s+2]),o+=n(i,a,c)}return o}function ht(t){return ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ht(t)}function pt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dt(){return dt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=yt(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},dt.apply(this,arguments)}function yt(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=gt(t)););return t}function mt(t,e){return mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},mt(t,e)}function vt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt(t);if(e){var o=gt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bt(this,n)}}function bt(t,e){if(e&&("object"===ht(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function gt(t){return gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gt(t)}var wt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mt(t,e)}(n,t);var e=vt(n);function n(t,r,o,i,a){var c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(c=e.call(this,t,r,o)).renderer=i,c.infoState=a,c.lineDrawing=!1,c.dimLine,c.dimTextLabel,c.delBtnLabel,c.counter=0,c.infoBackspaceDiv,c}return function(t,e,n){e&&pt(t.prototype,e),n&&pt(t,n),Object.defineProperty(t,"prototype",{writable:!1})}(n,[{key:"dist",value:function(){this.renderer.domElement.style.cursor="crosshair",this.infoState.flag="dim"}},{key:"start",value:function(){if(dt(gt(n.prototype),"findIntersect",this).call(this),this.intersects.length)if(this.lineDrawing){var t=this.dimLine.geometry.attributes.position.array;t[3]=this.intersects[0].point.x,t[4]=this.intersects[0].point.y,t[5]=this.intersects[0].point.z,this.dimLine.geometry.attributes.position.needsUpdate=!0;var e=new C(this.intersects[0].point.x,this.intersects[0].point.y,this.intersects[0].point.z);e.name="endMarker"+this.counter,this.scene.add(e),this.lineDrawing=!1,this.infoState.flag="pick",this.renderer.domElement.style.cursor="default",1==this.counter&&(this.infoBackspaceDiv=document.createElement("div"),this.infoBackspaceDiv.innerHTML='<span style="color:blue; font-weight:bold">Backspace</span> : 거리측정 삭제',document.body.appendChild(this.infoBackspaceDiv),this.infoBackspaceDiv.style.position="absolute",this.infoBackspaceDiv.style.top="9rem",this.infoBackspaceDiv.style.left="50%",this.infoBackspaceDiv.style.transform="translate( -50% )",this.infoBackspaceDiv.style.textAlign="center",this.infoBackspaceDiv.style.background="rgba( 0, 0, 0, 0 )",this.infoBackspaceDiv.style.color="black",this.infoBackspaceDiv.style.fontSize="2.4rem",this.infoBackspaceDiv.style.zIndex="1000")}else{this.counter=this.counter>=0?this.counter:0,this.counter++;var o=[];o.push(this.intersects[0].point),o.push(this.intersects[0].point.clone());var i=new C(this.intersects[0].point.x,this.intersects[0].point.y,this.intersects[0].point.z);i.name="startMarker"+this.counter,this.scene.add(i);var a=(new r.u9r).setFromPoints(o),c=new r.nls({color:"black",depthTest:!1,depthWrite:!1});this.dimLine=new r.ejS(a,c),this.dimLine.frustumCulled=!1,this.dimLine.name="dimLine"+this.counter,this.scene.add(this.dimLine);var s=document.createElement("div");s.innerText="0.0m",s.style.fontSize="2.4rem",s.style.fontFamily="sans-serif",s.style.background="black",s.style.color="white",this.dimTextLabel=new u.j(s),this.dimTextLabel.name="dimTextLabel"+this.counter,this.dimTextLabel.position.copy(this.intersects[0].point),this.scene.add(this.dimTextLabel),this.lineDrawing=!0}}},{key:"drawing",value:function(){if(this.lineDrawing&&(dt(gt(n.prototype),"findIntersect",this).call(this),this.intersects.length)){var t=this.dimLine.geometry.attributes.position.array,e=new r.Pa4(t[0],t[1],t[2]),o=new r.Pa4(this.intersects[0].point.x,this.intersects[0].point.y,this.intersects[0].point.z);t[3]=this.intersects[0].point.x,t[4]=this.intersects[0].point.y,t[5]=this.intersects[0].point.z,this.dimLine.geometry.attributes.position.needsUpdate=!0;var i=e.distanceTo(o);this.dimTextLabel.element.innerText=i.toFixed(2)+"m",this.dimTextLabel.position.lerpVectors(e,o,.5)}}},{key:"del",value:function(){var t=this.scene.getObjectByName("dimLine".concat(this.counter)),e=this.scene.getObjectByName("dimTextLabel".concat(this.counter)),n=this.scene.getObjectByName("startMarker".concat(this.counter)),r=this.scene.getObjectByName("endMarker".concat(this.counter));this.scene.remove(t),this.scene.remove(e),this.scene.remove(n),this.scene.remove(r),this.counter=this.counter-1,0==this.counter&&document.body.removeChild(this.infoBackspaceDiv)}}]),n}(P),xt=(n(4227),n(2868)),Ot=n.n(xt),kt=n(900),St=n.n(kt);function jt(t){return jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jt(t)}function Et(){Et=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new k(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return j()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=w(a,n);if(c){if(c===u)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(t,e,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(t,n,a),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var u={};function f(){}function h(){}function p(){}var d={};c(d,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(S([])));m&&m!==e&&n.call(m,o)&&(d=m);var v=p.prototype=f.prototype=Object.create(d);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){function r(o,i,a,c){var s=l(t[o],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==jt(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,c)}))}c(s.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=p,c(v,"constructor",p),c(p,"constructor",h),h.displayName=c(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},b(g.prototype),c(g.prototype,i,(function(){return this})),t.AsyncIterator=g,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new g(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(v),c(v,a,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function Pt(t,e,n,r,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function Lt(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Pt(i,r,o,a,c,"next",t)}function c(t){Pt(i,r,o,a,c,"throw",t)}a(void 0)}))}}var Bt="http://localhost:3000/capture";function Ct(){return(Ct=Lt(Et().mark((function t(e,n,r,o){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.render(n,r),t.next=3,St()(document.querySelector("#three-canvas"),{}).then((function(t){t.toBlob((function(t){var e=new FormData;e.append("image",t,"".concat(o,".jpeg")),Ot().post(Bt,e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){}))}),"image/jpeg",.95)}));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function zt(t){return zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zt(t)}function Tt(t){return function(t){if(Array.isArray(t))return At(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||_t(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function It(){It=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new k(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return j()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=w(a,n);if(c){if(c===u)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(t,e,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(t,n,a),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var u={};function f(){}function h(){}function p(){}var d={};c(d,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(S([])));m&&m!==e&&n.call(m,o)&&(d=m);var v=p.prototype=f.prototype=Object.create(d);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){function r(o,i,a,c){var s=l(t[o],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==zt(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,c)}))}c(s.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=p,c(v,"constructor",p),c(p,"constructor",h),h.displayName=c(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},b(g.prototype),c(g.prototype,i,(function(){return this})),t.AsyncIterator=g,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new g(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(v),c(v,a,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function Mt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=_t(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function _t(t,e){if(t){if("string"==typeof t)return At(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?At(t,e):void 0}}function At(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dt(t,e,n,r,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function Rt(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Dt(i,r,o,a,c,"next",t)}function c(t){Dt(i,r,o,a,c,"throw",t)}a(void 0)}))}}function Ft(t,e){var n,o,f,h,p,d,y,m,v,b,g,w,x,k,S=t,E={path:S.path,url:S.url,canvasID:S.canvasID,exposure:S.exposure,ambientLight:S.ambientLight,ambientIntensity:S.ambientIntensity,lightCamera:S.lightCamera,lightCameraIntensity:S.lightCameraIntensity,lightScene:S.lightScene,lightSceneIntensity:S.lightSceneIntensity,autoRotate:S.autoRotate,autoRotateSpeed:S.autoRotateSpeed,mapControl:S.mapControl,orientationGizmo:S.orientationGizmo,environment:S.environment,materialSide:S.materialSide,castShadow:S.castShadow,receiveShadow:S.receiveShadow,shadowMap:S.shadowMap,viewMode:S.viewMode,wireframe:S.wireframe,gridVisible:S.gridVisible,axesVisible:S.axesVisible,meshListID:S.meshListID,pickColorOn:S.pickColorOn,boxHelperOn:S.boxHelperOn,labelOn:S.labelOn,propContentsOn:S.propContentsOn,propContentsID:S.propContentsID,raycastAccel:S.raycastAcc},P=[],L=!1,B=document.getElementById(E.canvasID);!function(){(p=new r.CP7({canvas:B,antialias:!0,alpha:!0})).setSize(window.innerWidth,window.innerHeight),p.setPixelRatio(window.devicePixelRatio>1?2:1),p.outputEncoding=r.knz,p.toneMapping=r.LY2,p.toneMappingExposure=E.exposure,p.physicallyCorrectLights=!0,p.localClippingEnabled=!0,p.shadowMap.enabled=!0,p.shadowMap.type=2,(d=new u.M).setSize(window.innerWidth,window.innerHeight),d.domElement.style.position="absolute",d.domElement.style.top="0px",d.domElement.style.pointerEvents="none",document.body.appendChild(d.domElement),n=new r.xsS;var t=window.innerWidth/window.innerHeight;v=new r.cPb(75,t,.1,1e3),(b=new r.iKG(window.innerWidth/-t,window.innerWidth/t,window.innerHeight/t,window.innerHeight/-t,.1,1e3)).zoom=1,(m=v).position.set(0,5,0),n.add(m);var e=new r.Mig("white",E.ambientIntensity);E.ambientLight?n.add(e):n.remove(e),o=new r.Ox3("white",E.lightCameraIntensity),E.lightCamera?m.add(o):m.remove(o),f=new r.Ox3("white",E.lightSceneIntensity),E.lightScene?n.add(f):n.remove(f),f.castShadow=!0,f.shadow.mapSize.width=128,f.shadow.mapSize.height=128,f.shadow.radius=10,(k=new r.Kj0).name="shadowPlane",n.add(k),(x=new r.VLJ).name="gridHelper",n.add(x),(w=new r.y8_).name="axesHelper",n.add(w),(h=new i.z(m,B)).autoRotate=E.autoRotate,h.autoRotateSpeed=E.autoRotateSpeed,h.screenSpacePanning=E.mapControl,h.zoomSpeed=.5,h.rotateSpeed=.7,h.panSpeed=.7,h.mouseButtons={LEFT:r.RsA.ROTATE,MIDDLE:r.RsA.DOLLY,RIGHT:r.RsA.PAN},h.touches={ONE:r.QmN.ROTATE,TWO:r.QmN.DOLLY_PAN};var a=(new r.dpR).load("./textures/target.png"),c=new r.xeV({map:a,transparent:!0,opacity:.5,depthTest:!1,depthWrite:!1,sizeAttenuation:!1});h.addEventListener("start",(function(){var t=new r.jyi(c);t.position.copy(h.target),t.scale.set(.07,.07,.07),t.name="controlsPoint",n.add(t)})),h.addEventListener("end",(function(){var t=n.getObjectByName("controlsPoint");n.remove(t)})),y=new O(m),document.body.appendChild(y),y.onAxisSelected=function(t){switch(t){case"X":m.position.set(g.box.max.x+g.sizeBox,g.centerBox.y,g.centerBox.z);break;case"-X":m.position.set(g.box.min.x-g.sizeBox,g.centerBox.y,g.centerBox.z);break;case"Y":m.position.set(g.centerBox.x,g.box.max.y+g.sizeBox,g.centerBox.z);break;case"-Y":m.position.set(g.centerBox.x,g.box.min.y-g.sizeBox,g.centerBox.z);break;case"Z":m.position.set(g.centerBox.x,g.centerBox.y,g.box.max.z+g.sizeBox);break;case"-Z":m.position.set(g.centerBox.x,g.centerBox.y,g.box.min.z-g.sizeBox)}m.lookAt(g.centerBox.x,g.centerBox.y,g.centerBox.z),h.target.set(g.centerBox.x,g.centerBox.y,g.centerBox.z)},document.getElementById("gizmo").style.display=E.orientationGizmo?"block":"none"}();var C=new r.SUY;function z(t){return t.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",")}function T(){var t=window.innerWidth/window.innerHeight;m.aspect=t,m.left=window.innerWidth/-t,m.right=window.innerWidth/t,m.top=window.innerHeight/t,m.bottom=window.innerHeight/-t,m.updateProjectionMatrix(),d.setSize(window.innerWidth,window.innerHeight),d.render(n,m),p.setSize(window.innerWidth,window.innerHeight),p.render(n,m)}window.addEventListener("resize",T);var I=e,M=(Object.values(I),(new r.cBK).setPath("./textures/").load(["px-day.png","nx-day.png","py-day.png","ny-day.png","pz-day.png","nz-day.png"]));n.environment=E.environment?M:null;var _=new c.a;_.setTranscoderPath("./basis/").detectSupport(p);var A=new a._;A.setDecoderPath("./draco/gltf/");var D=new s.E;function R(t){var e=t.slice(0,t.indexOf(".glb"));document.getElementById("fileName").innerText=e}D.setKTX2Loader(_),D.setDRACOLoader(A),D.setMeshoptDecoder(l.z),D.setPath(E.path);var N=new r.ZAu;function V(t){return G.apply(this,arguments)}function G(){return(G=Rt(It().mark((function t(e){var r;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.loadAsync(e,(function(t){return et(t,e)}));case 2:r=t.sent,X(r.scene),P.forEach((function(t){return N.add(t)})),n.add(N);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function W(){return(W=Rt(It().mark((function t(){var e;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],Tt(new URLSearchParams(window.location.search)).forEach((function(t,n){"url"===t[0]&&e.push(V(t[1]))})),e.length||e.push(V(E.url)),t.next=6,Promise.all(e);case 6:R(E.url),L=!0;case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function X(t){var e=[];t.traverse((function(t){t.isMesh&&(t.material.side=E.materialSide,t.castShadow=E.castShadow,t.receiveShadow=E.receiveShadow,t.layers.enable(1),E.raycastAccel?t.geometry.computeBoundsTree():t.geometry.boundsTree=null,e.push(t))}));var n=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});e.sort((function(t,e){return n.compare(t.name,e.name)})),e.forEach((function(t){return P.push(t)}))}function Z(){g=new Y(N,E.viewMode,m,h),o.position.set(g.centerBox.x,g.box.max.y+2*g.centerBox.y,g.box.max.z),o.target.name="lightCameraTarget",o.target.position.copy(g.centerBox),o.target.updateMatrixWorld(),n.add(o.target),f.position.set(g.centerBox.x,g.box.max.y+2*g.centerBox.y,g.centerBox.z),f.target.name="lightSceneTarget",f.target.position.copy(g.centerBox),f.target.updateMatrixWorld(),n.add(f.target),f.shadow.camera.top=g.sizeBox,f.shadow.camera.bottom=-g.sizeBox,f.shadow.camera.left=-g.sizeBox,f.shadow.camera.right=g.sizeBox;new r.Rki(f.shadow.camera);n.remove(n.getObjectByName("shadowPlane"));var t=new r._12(2*g.sizeBox,2*g.sizeBox);t.rotateX(-Math.PI/2);var e=new r.Tn7({opacity:.4});(k=new r.Kj0(t,e)).name="shadowPlane",k.position.set(g.centerBox.x,g.box.min.y-2,g.centerBox.z),k.receiveShadow=E.shadowMap,n.add(k),n.remove(n.getObjectByName("gridHelper"));var i=2*g.sizeBox;(x=new r.VLJ(i,20)).name="gridHelper",x.position.x=g.centerBox.x,x.position.y=g.box.min.y-2,x.position.z=g.centerBox.z,x.visible=E.gridVisible,n.add(x),n.remove(n.getObjectByName("axesHelper")),(w=new r.y8_(g.sizeBox)).name="axesHelper",w.visible=E.axesVisible,n.add(w);new H(n,P,E.meshListID);var a,c=Mt(P);try{for(c.s();!(a=c.n()).done;){a.value.material.wireframe=E.wireframe}}catch(t){c.e(t)}finally{c.f()}}function U(t){return new Promise((function(e,n){D.parse(t,"",(function(t){return e(t)}),"",rt)}))}function K(t){return J.apply(this,arguments)}function J(){return(J=Rt(It().mark((function t(e){var r,o;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U(e);case 2:r=t.sent,(o=r.scene).name="dragDropModel",X(o),P.forEach((function(t){return N.add(t)})),n.add(N);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Q(t){return new Promise((function(e,n){var r=new FileReader;r.onload=function(){return e(r.result)},r.readAsArrayBuffer(t),r.onprogress=function(e){e.loaded&&e.total&&(nt(e.loaded/e.total,t.name),ot())}}))}N.name="gltfMeshGroup",function(){return W.apply(this,arguments)}().then(Z).then(it).catch(rt);var $=document.getElementById(E.canvasID);$.addEventListener("dragover",(function(t){t.preventDefault(),this.style.backgroundColor="lightgray"})),$.addEventListener("drop",(function(t){t.stopPropagation(),t.preventDefault(),L=!1,n.remove(N),N.clear(),P=[];var e=t.dataTransfer.files;function r(){return r=Rt(It().mark((function n(){var r;return It().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=[],Tt(e).forEach((function(e,n){r.push(Q(t.dataTransfer.files[n]))})),n.abrupt("return",Promise.all(r).then((function(t){return t})));case 3:case"end":return n.stop()}}),n)}))),r.apply(this,arguments)}R(e[0].name),function(){return r.apply(this,arguments)}().then(function(){var t=Rt(It().mark((function t(e){var n;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],e.forEach((function(t,e){n.push(K(t))})),t.next=4,Promise.all(n);case 4:L=!0;case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then(Z).then(ct).then(it).catch(rt),this.style.backgroundColor="transparent"}));var tt=document.createElement("div");function et(t,e){t.lengthComputable&&nt(Math.min(t.loaded/t.total,100),e);ot()}function nt(t,e){tt.innerText="".concat(e," / ")+"⚡ Loading... "+Math.round(100*t,2)+"%"}function rt(t){var e=t;tt.innerText=e}function ot(){document.body.appendChild(tt)}function it(){document.body.removeChild(tt)}tt.innerhtml="Loading...",tt.style.fontSize="3rem",tt.style.color="black",tt.style.display="block",tt.style.position="absolute",tt.style.top="50%",tt.style.width="100%",tt.style.textAlign="center",nt(0),document.addEventListener("keydown",(function(t){"Backspace"===t.key&&ft.del();"w"===t.key&&(h.target.y+=1,h.object.position.y+=1);"s"===t.key&&(h.target.y-=1,h.object.position.y-=1);if("d"===t.key){var e=(new r.Pa4).subVectors(h.target,h.object.position);e.applyAxisAngle(new r.Pa4(0,1,0),-.01*Math.PI),h.target.addVectors(h.object.position,e)}if("a"===t.key){var n=(new r.Pa4).subVectors(h.target,h.object.position);n.applyAxisAngle(new r.Pa4(0,1,0),.01*Math.PI),h.target.addVectors(h.object.position,n)}t.ctrlKey&&"1"===t.key&&(N.rotateX(-Math.PI/2),new Y(N,E.viewMode,m,h));t.key}));var at=new j(B);function ct(){lt.meshes=ft.meshes=ht.meshes=pt.meshes=P}var st={flag:"pick"},lt=new F(n,m,P,E.propContentsID);lt.pickColorOn=E.pickColorOn,lt.boxHelperOn=E.boxHelperOn,lt.labelOn=E.labelOn,lt.propContentsOn=E.propContentsOn;var ft=new wt(n,m,P,p,st);window.dist=function(){return ft.dist()};var ht=new ut(n,m,P,p,st);window.areaCal=function(){return ht.pick()};var pt=new q(n,m,P,p,st);function dt(t,e,n,o){var i=new r.Pa4(e.x,e.y,e.z);t.forEach((function(t){var e=(new r.ZzF).setFromObject(t).getCenter(new r.Pa4),a=new r.Pa4;switch(n){case"X":t.position.x=a.subVectors(e,i).multiplyScalar(o).x;break;case"Y":t.position.y=a.subVectors(e,i).multiplyScalar(o).y;break;case"Z":t.position.z=a.subVectors(e,i).multiplyScalar(o).z}}))}function yt(t){h.object=t,h.target.set(g.centerBox.x,g.centerBox.y,g.centerBox.z),h.update(),y.camera=t,lt.camera=t,ft.camera=t,ht.camera=t,pt.camera=t}window.volumeCal=function(){return pt.pick()},B.addEventListener("click",(function(t){if(!at.mouseMoved)switch(st.flag){case"dim":ft.mouse.x=t.clientX/B.clientWidth*2-1,ft.mouse.y=-(t.clientY/B.clientHeight*2-1),ft.start();break;case"area":ht.mouse.x=t.clientX/B.clientWidth*2-1,ht.mouse.y=-(t.clientY/B.clientHeight*2-1),ht.calArea();break;case"volume":pt.mouse.x=t.clientX/B.clientWidth*2-1,pt.mouse.y=-(t.clientY/B.clientHeight*2-1),pt.calVol();break;case"pick":lt.mouse.x=t.clientX/B.clientWidth*2-1,lt.mouse.y=-(t.clientY/B.clientHeight*2-1),lt.pick()}})),B.addEventListener("mousemove",(function(t){"dim"===st.flag&&(t.preventDefault(),ft.mouse.x=t.clientX/B.clientWidth*2-1,ft.mouse.y=-(t.clientY/B.clientHeight*2-1),ft.drawing())})),window.openTab=function(t,e){if("block"==document.getElementById(e).style.display)document.getElementById(e).style.display="none",t.currentTarget.className="tablinks";else{for(var n=document.getElementsByClassName("tapContent"),r=0;r<n.length;r++)n[r].style.display="none";for(var o=document.getElementsByClassName("tablinks"),i=0;i<o.length;i++)o[i].className=o[i].className.replace(" active","");document.getElementById(e).style.display="block",t.currentTarget.className+=" active"}},window.scaleXUp=function(t){var e,n=Mt(P);try{for(n.s();!(e=n.n()).done;){e.value.scale.x=t.target.value}}catch(t){n.e(t)}finally{n.f()}document.getElementById("scaleXSpan").textContent=t.target.value;var o=(new r.Pa4).subVectors(new r.Pa4(0,0,0),g.centerBox);N.position.x=o.x*t.target.value-o.x},window.scaleYUp=function(t){var e,n=Mt(P);try{for(n.s();!(e=n.n()).done;){e.value.scale.y=t.target.value}}catch(t){n.e(t)}finally{n.f()}document.getElementById("scaleYSpan").textContent=t.target.value},window.scaleZUp=function(t){var e,n=Mt(P);try{for(n.s();!(e=n.n()).done;){e.value.scale.z=t.target.value}}catch(t){n.e(t)}finally{n.f()}document.getElementById("scaleZSpan").textContent=t.target.value;var o=(new r.Pa4).subVectors(new r.Pa4(0,0,0),g.centerBox);N.position.z=o.z*t.target.value-o.z},window.explodeXChange=function(t){dt(P,g.centerBox,"X",t.target.value)},window.explodeYChange=function(t){dt(P,g.centerBox,"Y",t.target.value)},window.explodeZChange=function(t){dt(P,g.centerBox,"Z",t.target.value)},window.wireframeSwitch=function(t){var e,n=Mt(P);try{for(n.s();!(e=n.n()).done;){e.value.material.wireframe=!!t.target.checked}}catch(t){n.e(t)}finally{n.f()}},window.gridHelperSwith=function(t){x.visible=!!t.target.checked},window.axeSwitch=function(t){w.visible=!!t.target.checked},window.autoRotateSwitch=function(t){h.autoRotate=!!t.target.checked},window.cameraSwitch=function(){m.isPerspectiveCamera?(b.near=.001,b.far=v.far,b.zoom=.4*Math.min(window.innerWidth/(g.box.max.x-g.box.min.x),window.innerHeight/(g.box.max.y-g.box.min.y)),(m=b).position.copy(v.position),m.updateProjectionMatrix(),yt(m),T()):m.isOrthographicCamera&&((m=v).position.copy(b.position),m.updateProjectionMatrix(),yt(m),T())},window.shadowSwitch=function(t){k.receiveShadow=!!t.target.checked},window.mapControlSwitch=function(t){h.screenSpacePanning=!t.target.checked},window.raycastAccSwitch=function(t){var e,n=Mt(P);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.target.checked?r.geometry.computeBoundsTree():r.geometry.boundsTree=null}}catch(t){n.e(t)}finally{n.f()}},document.getElementById("exposureId").value=E.exposure,document.getElementById("exposureSpanId").textContent=E.exposure,window.exposureChange=function(t){p.toneMappingExposure=t.target.value,document.getElementById("exposureSpanId").textContent=t.target.value};window.screenshot=function(){return function(t,e,n,r){return Ct.apply(this,arguments)}(p,n,m,fileName)},document.getElementById("chkWireframe").checked=E.wireframe,document.getElementById("chkGridHelper").checked=E.gridVisible,document.getElementById("chkAxeSwitch").checked=E.axesVisible,document.getElementById("chkAutoRotate").checked=E.gridVisible,document.getElementById("chkCamera").checked=E.cameraOrthoMode,document.getElementById("chkShadow").checked=E.shadowMap,document.getElementById("chkMapControl").checked=!E.mapControl,document.getElementById("chkRaycastAcc").checked=E.raycastAccel,function t(){C.getDelta(),h.update(),y.update();var e=h.target.distanceTo(h.object.position),o=h.minDistanceSettingValue;if(document.getElementById("cameraPostionX").textContent=m.position.x.toFixed(2),document.getElementById("cameraPostionY").textContent=m.position.y.toFixed(2),document.getElementById("cameraPostionZ").textContent=m.position.z.toFixed(2),document.getElementById("orbitControlX").textContent=h.target.x.toFixed(2),document.getElementById("orbitControlY").textContent=h.target.y.toFixed(2),document.getElementById("orbitControlZ").textContent=h.target.z.toFixed(2),1==L&&(document.getElementById("DistanceCamera").textContent=e.toFixed(2)+" > "+o.toFixed(2),e<o)){var i=h.object.position,a=h.target,c=new r.Pa4;a.copy(c.subVectors(a,i).normalize().multiplyScalar(3).add(a)),h.update()}p.setAnimationLoop(t),p.render(n,m),d.render(n,m),document.getElementById("renderCalls").textContent=z(p.info.render.calls),document.getElementById("renderTriangles").textContent=z(p.info.render.triangles),document.getElementById("renderGeometries").textContent=z(p.info.memory.geometries),document.getElementById("renderTextures").textContent=z(p.info.memory.textures),p.info.reset()}()}function Nt(t){return Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nt(t)}function Ht(){Ht=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new k(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return j()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=w(a,n);if(c){if(c===u)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(t,e,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(t,n,a),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var u={};function f(){}function h(){}function p(){}var d={};c(d,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(S([])));m&&m!==e&&n.call(m,o)&&(d=m);var v=p.prototype=f.prototype=Object.create(d);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){function r(o,i,a,c){var s=l(t[o],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==Nt(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,c)}))}c(s.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=p,c(v,"constructor",p),c(p,"constructor",h),h.displayName=c(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},b(g.prototype),c(g.prototype,i,(function(){return this})),t.AsyncIterator=g,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new g(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(v),c(v,a,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function Vt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gt(t,e,n,r,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function Yt(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Gt(i,r,o,a,c,"next",t)}function c(t){Gt(i,r,o,a,c,"throw",t)}a(void 0)}))}}r.u9r.prototype.computeBoundsTree=o.Xy,r.u9r.prototype.disposeBoundsTree=o.sn,r.Kj0.prototype.raycast=o.uL;var Wt={path:"./models/",url:"jweb1.glb",canvasID:"three-canvas",exposure:1.5,ambientLight:!0,ambientIntensity:.3,lightCamera:!0,lightCameraIntensity:1,lightScene:!0,lightSceneIntensity:1,autoRotate:!1,autoRotateSpeed:-3,mapControl:!0,orientationGizmo:!0,environment:!1,materialSide:2,castShadow:!0,receiveShadow:!1,shadowMap:!0,viewMode:"Y",wireframe:!1,gridVisible:!1,axesVisible:!1,meshListID:"listOnOff",pickColorOn:!0,boxHelperOn:!0,labelOn:!0,propContentsOn:!0,propContentsID:"propContents",raycastAcc:!1};function Xt(){return(Xt=Yt(Ht().mark((function t(e){var n;return Ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return n=t.sent,t.abrupt("return",n.json());case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(function(t){return Xt.apply(this,arguments)})("./models/dataTest.json").then((function(t){return Ft(Wt,t)}));for(var Zt,Ut=function(t){if(Array.isArray(t))return Vt(t)}(Zt=new URLSearchParams(window.location.search))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(Zt)||function(t,e){if(t){if("string"==typeof t)return Vt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vt(t,e):void 0}}(Zt)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),Kt=0;Kt<Ut.length;Kt++)"true"==Ut[Kt][1]&&(Ut[Kt][1]=!0),"false"==Ut[Kt][1]&&(Ut[Kt][1]=!1),Wt[Ut[Kt][0]]=Ut[Kt][1]}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={exports:{}};return e[t].call(i.exports,i,i.exports,r),i.exports}r.m=e,t=[],r.O=(e,n,o,i)=>{if(!n){var a=1/0;for(u=0;u<t.length;u++){for(var[n,o,i]=t[u],c=!0,s=0;s<n.length;s++)(!1&i||a>=i)&&Object.keys(r.O).every((t=>r.O[t](n[s])))?n.splice(s--,1):(c=!1,i<a&&(a=i));if(c){t.splice(u--,1);var l=o();void 0!==l&&(e=l)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[n,o,i]},r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={179:0};r.O.j=e=>0===t[e];var e=(e,n)=>{var o,i,[a,c,s]=n,l=0;if(a.some((e=>0!==t[e]))){for(o in c)r.o(c,o)&&(r.m[o]=c[o]);if(s)var u=s(r)}for(e&&e(n);l<a.length;l++)i=a[l],r.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return r.O(u)},n=self.webpackChunkweb_viewer=self.webpackChunkweb_viewer||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var o=r.O(void 0,[180],(()=>r(4658)));o=r.O(o)})();