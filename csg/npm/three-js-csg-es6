import THREE from 'three';
const ThreeBSP = require('../../index.js')(THREE);
 
export const meshFactory = () => {
  const box = new THREE.Mesh(new THREE.BoxGeometry(500, 100, 100));
  const sphere = new THREE.Mesh(new THREE.SphereGeometry(100, 50, 50));
 
  const sBSP = new ThreeBSP(sphere);
  const bBSP = new ThreeBSP(box);
 
  const sub = bBSP.subtract(sBSP);
  const newMesh = sub.toMesh();
 
  newMesh.material = new THREE.MeshPhongMaterial({ color: 0xdddddd, specular: 0x1a1a1a, shininess: 30, shading: THREE.FlatShading  });
 
  return Object.assign({}, { csg: newMesh  });
 
};

three-js-csg is a wrapper for NPM around chandlerprall's Constructive Solid Geometry port to three.js. 
This package provides support for use with ES2015/AMD/CommonJS style modularity and composability.
